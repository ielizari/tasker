[{"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\tests\\mocks\\browser.js":"1","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\common\\logo.tsx":"2","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\worklog\\worklog-list.component.tsx":"3","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\lib\\orzkDatepicker\\datepicker.js":"4","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\infrastructure\\repositories\\browser\\handlers\\worklogs.ts":"5","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\infrastructure\\repositories\\browser\\handlers\\jobs.ts":"6","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\application\\dtos\\dbToApiDto.ts":"7","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\infrastructure\\repositories\\browser\\browserdb.ts":"8","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\worklog\\worklog-sequence.component.tsx":"9","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\job\\job-new.component.tsx":"10","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\worklog\\worklog-new.component.tsx":"11","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\index.tsx":"12","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\styles\\globalStyles.ts":"13","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\infrastructure\\repositories\\browser\\browser.js":"14","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\styles\\theme.ts":"15","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\application\\taskerRepository.tsx":"16","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\views\\setup-app.component.tsx":"17","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\views\\tasks.view.component.tsx":"18","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\infrastructure\\repositories\\browser\\handlers\\database.ts":"19","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\exportDatabase.ts":"20","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\loaddb.component.tsx":"21","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\worklog\\worklog-detail.component.tsx":"22","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\importDatabase.ts":"23","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\getWorklog.ts":"24","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\deleteWorklog.ts":"25","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\domain\\task-definitions.ts":"26","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\addTask.tsx":"27","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\common\\modal.tsx":"28","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\addJob.ts":"29","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\tasks\\task-detail.component.tsx":"30","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\db-sync.tsx":"31","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\common\\icon-button.tsx":"32","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\common\\form\\form.tsx":"33","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\common\\header.tsx":"34","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\App.tsx":"35","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\lib\\date.utils.ts":"36","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\closeWorklog.ts":"37","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\reportWebVitals.ts":"38","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\contexts\\dbSyncContext.tsx":"39","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\existsDatabase.ts":"40","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\newDatabase.ts":"41","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\deleteTask.ts":"42","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\common\\block.tsx":"43","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\reopenWorklog.ts":"44","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\dtos\\jobApiToComponent.dto.ts":"45","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\contexts\\runningWorklogsContext.tsx":"46","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\worklog\\worklog-running.component.tsx":"47","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\views\\home.component.tsx":"48","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\addWorklog.ts":"49","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\domain\\api-response.ts":"50","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\tasks\\task-list.component.tsx":"51","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\updateTask.ts":"52","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\tasks\\task-new.component.tsx":"53","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\infrastructure\\repositories\\browser\\handlers\\tasks.ts":"54"},{"size":122,"mtime":1606370107139,"results":"55","hashOfConfig":"56"},{"size":726,"mtime":1606620276137,"results":"57","hashOfConfig":"56"},{"size":4252,"mtime":1609522286583,"results":"58","hashOfConfig":"56"},{"size":60401,"mtime":1607190803281,"results":"59","hashOfConfig":"56"},{"size":5708,"mtime":1609587637423,"results":"60","hashOfConfig":"56"},{"size":2938,"mtime":1609738888991,"results":"61","hashOfConfig":"56"},{"size":1352,"mtime":1609523338893,"results":"62","hashOfConfig":"56"},{"size":17028,"mtime":1609827401484,"results":"63","hashOfConfig":"56"},{"size":11186,"mtime":1609823707122,"results":"64","hashOfConfig":"56"},{"size":6187,"mtime":1609740333711,"results":"65","hashOfConfig":"56"},{"size":8604,"mtime":1609573938493,"results":"66","hashOfConfig":"56"},{"size":1106,"mtime":1609144176141,"results":"67","hashOfConfig":"56"},{"size":2874,"mtime":1609579181143,"results":"68","hashOfConfig":"56"},{"size":122,"mtime":1606889256149,"results":"69","hashOfConfig":"56"},{"size":4165,"mtime":1607755103530,"results":"70","hashOfConfig":"56"},{"size":1685,"mtime":1609587637423,"results":"71","hashOfConfig":"56"},{"size":1140,"mtime":1609133131410,"results":"72","hashOfConfig":"56"},{"size":1073,"mtime":1607514171901,"results":"73","hashOfConfig":"56"},{"size":2231,"mtime":1609133131414,"results":"74","hashOfConfig":"56"},{"size":463,"mtime":1608877808752,"results":"75","hashOfConfig":"56"},{"size":5584,"mtime":1609146404772,"results":"76","hashOfConfig":"56"},{"size":10177,"mtime":1609670857128,"results":"77","hashOfConfig":"56"},{"size":1801,"mtime":1608877808752,"results":"78","hashOfConfig":"56"},{"size":446,"mtime":1609522286567,"results":"79","hashOfConfig":"56"},{"size":497,"mtime":1608877808752,"results":"80","hashOfConfig":"56"},{"size":686,"mtime":1607244271013,"results":"81","hashOfConfig":"56"},{"size":623,"mtime":1608877808752,"results":"82","hashOfConfig":"56"},{"size":4516,"mtime":1607588444814,"results":"83","hashOfConfig":"56"},{"size":599,"mtime":1609738888992,"results":"84","hashOfConfig":"56"},{"size":11856,"mtime":1609574085501,"results":"85","hashOfConfig":"56"},{"size":3699,"mtime":1609581895696,"results":"86","hashOfConfig":"56"},{"size":2867,"mtime":1609579092086,"results":"87","hashOfConfig":"56"},{"size":20024,"mtime":1609826031450,"results":"88","hashOfConfig":"56"},{"size":1987,"mtime":1609580039606,"results":"89","hashOfConfig":"56"},{"size":2425,"mtime":1609697735533,"results":"90","hashOfConfig":"56"},{"size":3639,"mtime":1609742398217,"results":"91","hashOfConfig":"56"},{"size":632,"mtime":1609585155816,"results":"92","hashOfConfig":"56"},{"size":425,"mtime":499162500000,"results":"93","hashOfConfig":"56"},{"size":814,"mtime":1609146338397,"results":"94","hashOfConfig":"56"},{"size":486,"mtime":1609142661070,"results":"95","hashOfConfig":"56"},{"size":486,"mtime":1609098565637,"results":"96","hashOfConfig":"56"},{"size":485,"mtime":1608877808752,"results":"97","hashOfConfig":"56"},{"size":1494,"mtime":1609522286567,"results":"98","hashOfConfig":"56"},{"size":634,"mtime":1609587492882,"results":"99","hashOfConfig":"56"},{"size":571,"mtime":1609740827153,"results":"100","hashOfConfig":"56"},{"size":864,"mtime":1609675355612,"results":"101","hashOfConfig":"56"},{"size":3846,"mtime":1609743181410,"results":"102","hashOfConfig":"56"},{"size":1617,"mtime":1609741050008,"results":"103","hashOfConfig":"56"},{"size":629,"mtime":1609522286567,"results":"104","hashOfConfig":"56"},{"size":462,"mtime":1607599504457,"results":"105","hashOfConfig":"56"},{"size":4386,"mtime":1608877854696,"results":"106","hashOfConfig":"56"},{"size":628,"mtime":1608877808752,"results":"107","hashOfConfig":"56"},{"size":10902,"mtime":1609825417635,"results":"108","hashOfConfig":"56"},{"size":3815,"mtime":1609826774315,"results":"109","hashOfConfig":"56"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},"11xn261",{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"119"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"122","usedDeprecatedRules":"123"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"119"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"130","messages":"131","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"132","messages":"133","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"134","messages":"135","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"136","messages":"137","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"138","usedDeprecatedRules":"115"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"157"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"160","usedDeprecatedRules":"157"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"163","usedDeprecatedRules":"119"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"115"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"157"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"119"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"178","messages":"179","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"180","usedDeprecatedRules":"157"},{"filePath":"181","messages":"182","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"183","usedDeprecatedRules":"115"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"186","usedDeprecatedRules":"119"},{"filePath":"187","messages":"188","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"189","messages":"190","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"157"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"195","messages":"196","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"157"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"119"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"201","messages":"202","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"203","messages":"204","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"205","usedDeprecatedRules":"157"},{"filePath":"206","messages":"207","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"119"},{"filePath":"208","messages":"209","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"210","messages":"211","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"119"},{"filePath":"212","messages":"213","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"214","messages":"215","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"216","messages":"217","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"218","usedDeprecatedRules":"157"},{"filePath":"219","messages":"220","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"221"},{"filePath":"222","messages":"223","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"157"},{"filePath":"224","messages":"225","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"226","messages":"227","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"228","messages":"229","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"230","messages":"231","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"232","messages":"233","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\tests\\mocks\\browser.js",[],["234","235"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\common\\logo.tsx",[],["236","237"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\worklog\\worklog-list.component.tsx",["238"],"import React from 'react'\r\nimport { FaPlus, FaFilter } from 'react-icons/fa'\r\nimport { BlockContainer, BlockHeaderComponent, BlockEmptyComponent} from '../common/block'\r\nimport { Spinner } from '../common/spinner'\r\nimport { getWorklogList} from '../../../application/getWorklogList'\r\nimport { Worklog } from '../../../domain/worklog'\r\nimport { Link } from 'react-router-dom'\r\nimport { common, color } from '../../../styles/theme'\r\nimport styled from 'styled-components'\r\n\r\nconst ListItem = styled.li`\r\n    list-style: none;\r\n    padding: 1rem;\r\n    margin: 1rem;\r\n    border-style: solid;\r\n    border-width: 1px;\r\n    border-color: ${color.orange};\r\n    background-color: ${color.orange};\r\n    color: ${color.white};\r\n    ${common.roundedCorners()};\r\n`\r\n\r\nconst WorklogListItem = (props: {worklog: Worklog } ) => {    \r\n    \r\n    return(\r\n        <ul>\r\n            <Link to={`/worklogs/${props.worklog.id}`}>\r\n                <ListItem>{props.worklog.title}</ListItem>\r\n            </Link>\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport const WorklogListComponent = ( props ) => {\r\n    const [worklogs, setWorklogs] = React.useState<Array<any>>([])\r\n    const [error, setError] = React.useState<Error | null>(null)\r\n    const [loading, setLoading] = React.useState<boolean>(false)\r\n    const [actions, setActions] = React.useState<Array<any>>([])\r\n    const [filters, setFilters ] = React.useState<Partial<any>>(props.filter ||{})\r\n\r\n    \r\n    React.useEffect(() => {\r\n        let cancelled = false\r\n        setLoading(true)\r\n        setActions(actionItems)\r\n        getWorklogList(filters)\r\n            .then(\r\n                (result) => {\r\n                    if(!cancelled){\r\n                        if(result.hasError){\r\n                            setError(new Error(result.error));\r\n                            setWorklogs([])\r\n                        }else{\r\n                            setWorklogs(result.data); \r\n                            setError(null);\r\n                        }\r\n                        \r\n                        setLoading(false)\r\n                    }\r\n                },\r\n                (error) => {\r\n                    if(!cancelled){\r\n                        setError(error)\r\n                        setLoading(false)\r\n                    }\r\n                }\r\n            )\r\n\r\n        return () => cancelled = true\r\n    },[filters])\r\n\r\n    const searchHandler = (values) => {\r\n        const filter: Partial<Worklog> = {}\r\n        if(values.actionBarSearch){\r\n            filter.title = values.actionBarSearch\r\n        }\r\n        setFilters(filter)\r\n    }\r\n\r\n    const validation = (values) => {\r\n        const errors = []\r\n        return errors\r\n    }\r\n    let actionItems = [\r\n        {\r\n            icon: FaPlus,\r\n            text: 'Nuevo parte',\r\n            route: `/worklogs/new`,\r\n            type: 'link'\r\n        },\r\n        {\r\n            view: 'actionBar',\r\n            type: 'form',         \r\n            key: 'actionBarFilterForm',   \r\n            initValues: {actionBarSearch: ''},\r\n            onSubmit: searchHandler,\r\n            validation: validation,\r\n            items: [\r\n                {\r\n                    type: 'text',\r\n                    id: 'actionBarSearch',\r\n                    placeholder: 'Buscar...'\r\n                },\r\n                {        \r\n                    id: 'filterBtn',\r\n                    type: 'submit',\r\n                    icon: FaFilter,\r\n                    label: 'Filtrar',\r\n                    className: 'button-icon'\r\n                }\r\n            ]\r\n            \r\n        },\r\n        \r\n    ]\r\n    return (\r\n        <BlockContainer>\r\n            <BlockHeaderComponent \r\n                title='Partes de trabajo'\r\n                actions={actions}\r\n            />\r\n            {loading && <Spinner />}\r\n            {worklogs.length ? \r\n                (error!==null ? \r\n                    <div>Error: {error.message?error.message:'unknown error'}</div> \r\n                    :\r\n                    worklogs.map((item: Worklog) => (\r\n                        <WorklogListItem key={item.id} worklog={item} />\r\n                    ))\r\n                )\r\n                :\r\n                <BlockEmptyComponent />\r\n            }\r\n        </BlockContainer>\r\n    )\r\n}",["239","240"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\lib\\orzkDatepicker\\datepicker.js",["241","242","243","244","245","246","247","248","249","250","251","252","253","254"],"/*\r\n\t Options\r\n\t\t- showTitle Boolean [true,false] Default true\r\n\t \t- mode\tString [date, time, datetime]\tDefault 'datetime'\r\n\t\t- lang\tString [en, es, fr] Default 'en'\r\n\t\t- startDay Integer [0 - Sunday, 1 - Monday, ... 6 - Saturday]\tDefault 1\r\n\t\t- minDate\tDate [Date object] Default null\r\n\t\t- maxDate\tDate [Date object] Default null\r\n\t\t- blockWeekdays\tArray<String> [mon,tue,wed,thu,fri,sat,sun] Default []\r\n\t\t- blockDates\t{<Array<Date>} Default {}\tSingle date / Date range: [min date, max date]\r\n\t\t- display\tString [full, compact] Default 'full'\r\n\t\t- showMsg\tBoolean [true, false]\tDefault true\r\n\t\t- dateFormat\tString ['ymd[/-]','ydm[/-]','mdy[/-]','dmy[/-]'] Default 'dmy/'\r\n\t\t- timeFormat\tString ['h','hm','hms']\r\n\t\t- position\tString['free','attach','fixed']\tDefault 'free'\r\n\t\t- showDate\tBoolean [true,false] Default true\r\n\t\r\n\t Methods\r\n\t\tPublic\r\n\t\t\tshow()\t\t\t\t\t\t-\tDraws the datepicker DOM elements.\r\n\t\t\tclose()\t\t\t\t\t\t-\tRemoves the datepicker object's DOM elements. The selected date and time will be kept on the object and will be shown if the show() function is called again.\r\n\t\t\tgetDate()\t\t\t\t\t-\tReturns a Date object containing the selected date.\r\n\t\t\tsetOptions(options)\t\t\t-\tSets the options for this instance. The 'options' parameter is a javascript object containing the pairs of key:value whose default values must be overwritten.\r\n\t\t\tgetFullDateString()\t\t\t-\tReturns a string containing the selected date formatted based on the dateFormat and timeFormat options.\r\n\t\t\tsetDate(d)\t\t\t\t\t-\tSets the initial date of the datepicker object. By default, if an input DOM element id is passed as parameter on the datepicker's constructor, and it \r\n\t\t\t\t\t\t\t\t\t\t\tcontains a valid date string, this date will be set as the initial one. Otherwise, the initial date will be the current local date. If this date is blocked,\r\n\t\t\t\t\t\t\t\t\t\t\tthe initial date will be empty and the user must select one manually on the calendar widget in order to be able to push the 'OK' button.\r\n\t\t\tprintDate()\t\t\t\t\t-\tPrints a formatted date string based on the selected date on the input DOM element referenced by the id passed as parameter on the datepicker's constructor.\r\n\t\t\t\t\t\t\t\t\t\t\tIf this parameter contains null or a non valid id, nothing will be printed.\r\n\t\t\tonSubmit(d)\t\t\t\t\t-\tThis function is called when the user press the 'OK' button. By default it calls the printDate() function.\r\n\t\tPrivate\t\t\r\n\t\t\tupdateDisplay()\t\t\t\t-\tRedraw all the display elements \r\n\t\t\tdaysInMonth()\t\t\t\t-\tReturns the number of days of the selected month.\r\n\t\t\tfirstDay()\t\t\t\t\t-\tReturns the position on the weekdays o the month's first day. Used to calculate the first row's offset when printing the calendar. \r\n\t\t\tclearCalendarContainer()\t-\tRemove the elements on the calendar container.\r\n\t\t\tclearTimeContainer()\t\t-\tRemove the elements on the time container (Clock elements)\r\n\t\t\tclearMsgContainer()\t\t\t-\tRemove the elements on the debug section (errors and warnings)\r\n\t\t\tprintCalendar()\t\t\t\t-\tDraws the calendar\r\n\t\t\tprintMonthList()\t\t\t-\tDraws the month list that allows to quickly one. \r\n\t\t\tprintYearList(decade)\t\t-\tDraws the year list. This window allows to scroll over the years in groups of 20 and select one of them. The 'decade' parameter indicates the offset \r\n\t\t\t\t\t\t\t\t\t\t\tto know which group of years must be printed.\r\n\t\t\tprintAnalogTime(type)\t\t-\tDraws the analog clock to pick hours / minutes / seconds. The 'type' parameter indicates which one is being picked.\r\n\t\t\tdrawClockHand(line,x2,y2)\t-\tDraws the clock's hand, starting from the center of the widget. \r\n\t\t\thideClockHand(line)\t\t\t-\tHide the clock's hand passed as parameter.\r\n\t\t\tshowCalendar()\t\t\t\t-\tShow the calendar container window\r\n\t\t\tshowTime()\t\t\t\t\t-\tShow the clock container window\r\n\t\t\tgetDateString(d)\t\t\t-\tReturns a formatted string based on the date 'd' passed as parameter and the dateFormat option passed when the object was created.\r\n\t\t\tgetTimeString(d)\t\t\t-\tReturns a formatted string based on the date 'd' passed as parameter and the timeFormat option passed when the object was created.\r\n\t\t\tupdateTime(d)\t\t\t\t-\tRedraws the display item containing the time.\r\n\t\t\tcreateDate(d)\t\t\t\t-\tReturns a date object based on the string 'd' passed as parameter. If the string doesn't fit the dateFormat and timeFormat options, returns false.\r\n\t\t\tpadInteger(number,max)\t\t-\tReturns a string of 'max' characters containing 'number' and filled with zeros on the left. Ej. padInteger(2,4) -> '0002'\r\n\t\t\trad2deg(x)\t\t\t\t\t-\tConverts radians to degrees.\r\n\t\t\tdeg2rad(x)\t\t\t\t\t-\tConverts degrees to radians.\r\n\t\t\tisDate(date)\t\t\t\t-\tChecks if the 'date' parameter is a Date object. Returns a boolean.\r\n\t\t\tdateInRange(date,type)\t\t-\tChecks if the 'date' parameter is bigger than the minDate option and smaller than the maxDate option. The 'type' can be 'day' for the printCalendar() \r\n\t\t\t\t\t\t\t\t\t\t\tfunction, 'month' for the printMonthList() function or 'year' for the printYearList() function\r\n\t\t\tdateIsBlocked(date)\t\t\t-\tChecks if the 'date' parameter is present on the blockDates option.\r\n\t*/\r\nexport class Datepicker  {\r\n\tconstructor(dateField,title,options) {\t\r\n\t\t\r\n\t\tthis.setOptions = this.setOptions.bind(this)\r\n\t\tthis.reset = this.reset.bind(this)\r\n\t\tthis.show = this.show.bind(this)\r\n\t\tthis.updateDisplay = this.updateDisplay.bind(this)\r\n\t\tthis.daysInMonth = this.daysInMonth.bind(this)\r\n\t\tthis.firstDay = this.firstDay.bind(this)\r\n\t\tthis.clearCalendarContainer = this.clearCalendarContainer.bind(this)\r\n\t\tthis.clearTimeContainer = this.clearTimeContainer.bind(this)\r\n\t\tthis.clearMsgContainer = this.clearMsgContainer.bind(this)\r\n\t\tthis.printCalendar = this.printCalendar.bind(this)\r\n\t\tthis.printMonthList = this.printMonthList.bind(this)\r\n\t\tthis.printYearList = this.printYearList.bind(this)\r\n\t\tthis.printAnalogTime = this.printAnalogTime.bind(this)\r\n\t\tthis.drawClockHand = this.drawClockHand.bind(this)\r\n\t\tthis.hideClockHand = this.hideClockHand.bind(this)\r\n\t\tthis.close = this.close.bind(this)\r\n\t\tthis.printDate = this.printDate.bind(this)\r\n\t\tthis.getFullDateString = this.getFullDateString.bind(this)\r\n\t\tthis.showCalendar = this.showCalendar.bind(this)\r\n\t\tthis.showTime = this.showTime.bind(this)\r\n\t\tthis.getDateString = this.getDateString.bind(this)\r\n\t\tthis.getTimeString = this.getTimeString.bind(this)\r\n\t\tthis.updateTime = this.updateTime.bind(this)\r\n\t\tthis.getDate = this.getDate.bind(this)\r\n\t\tthis.createDate = this.createDate.bind(this)\r\n\t\tthis.setStartDate = this.setStartDate.bind(this)\r\n\t\tthis.setDate = this.setDate.bind(this)\r\n\t\tthis.onSubmit = this.onSubmit.bind(this)\r\n\t\tthis.padInteger = this.padInteger.bind(this)\r\n\t\tthis.rad2deg = this.rad2deg.bind(this)\r\n\t\tthis.deg2rad = this.deg2rad.bind(this)\r\n\t\tthis.isDate = this.isDate.bind(this)\r\n\t\tthis.dateInRange = this.dateInRange.bind(this)\r\n\t\tthis.dateIsBlocked = this.dateIsBlocked.bind(this)\r\n\t\r\n\t\tthis.initialized = false;\t\r\n\t\tthis._version = '0.1';\r\n\t\t\r\n\t\tthis.defOptions = options;\r\n\t\tthis.dpMode = \"datetime\";\t\r\n\t\tthis.inputDate = null;\r\n\t\tthis.showDate = true;\r\n\t\tthis.language = \"en\";\r\n\t\tthis.startDay = 1;\t// Monday\r\n\t\tthis.minDate = null;\r\n\t\tthis.maxDate = null;\r\n\t\tthis.showTitle = true;\r\n\t\tthis.blockdays = [];\r\n\t\tthis.display = \"full\";\r\n\t\tthis.showMsg = true;\r\n\t\tthis.blockDates = [];\r\n\t\tthis.dateFormat = \"dmy/\";\r\n\t\tthis.timeFormat = \"hm\";\r\n\t\tthis.position = \"free\";\r\n\t\t\r\n\t\tthis.error = [];\r\n\t\tthis.warning = [];\r\n\t\tthis.info = [];\r\n\t\t\r\n\t\tthis.lang = {\r\n\t\t\t\"en\":\t{\r\n\t\t\t\tmonth:\t\t[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\r\n\t\t\t\tmonthShort:\t[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\r\n\t\t\t\tday:\t\t[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],\r\n\t\t\t\tdayShort:\t[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],\r\n\t\t\t\tbtncancel:\t\"Cancel\",\r\n\t\t\t\tbtnok:\t\t\"OK\",\r\n\t\t\t\terrTitle:\t\"Invalid 'showTitle' value. Default value will be used.\",\r\n\t\t\t\terrMode:\t\"Unknown 'mode' value. Default value will be used.\",\r\n\t\t\t\terrLang:\t\"Unknown 'lang' value. Default value will be used.\",\r\n\t\t\t\terrStart:\t\"Invalid 'startDay' value. Default value will be used.\",\r\n\t\t\t\terrMin:\t\t\"Invalid minimum date. This parameter will be ignored.\",\r\n\t\t\t\terrMax:\t\t\"Invalid maximum date. This parameter will be ignored.\",\r\n\t\t\t\terrMinMax:\t\"Minimun date is higher than maximum date. Both will be ignored.\",\r\n\t\t\t\terrDisplay:\t\"Invalid 'display' value. This parameter will be ignored.\",\r\n\t\t\t\terrMsg:\t\t\"Invalid 'showMsg' value. Default value will be used.\",\r\n\t\t\t\terrWeekDay:\t\"Unknown 'blockWeekdays' argument on position \",\r\n\t\t\t\terrWeekDay2:\"The 'blockWeekdays' parameter expects an array as argument.\",\r\n\t\t\t\terrInputField:\t\"DOM element not found\",\r\n\t\t\t\terrDateFormat:\t\"Invalid date format\",\t\t\t\r\n\t\t\t\terrBlockDate:\t\"Invalid date in 'blockDates' parameter at position \",\r\n\t\t\t\terrFormat:\t\t\"Invalid 'dateFormat' value. Default value will be used: 'mdy/'\",\r\n\t\t\t\terrTimeFormat:\t\"Invalid 'timeFormat' value. Default value will be used: 'hm'\",\r\n\t\t\t\terrPosition:\t\"Invalid element id to bind the widget position. Default value will be used: 'free'\",\r\n\t\t\t\terrPosition2:\t\"Ivalid 'position' value. Default value will be used: 'free'\",\r\n\t\t\t\terrShowDate:\t\"Invalid 'showDate' value. Default value will be used: 'true'\"\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\"es\":\t{\r\n\t\t\t\tmonth:\t\t[\"Enero\",\"Febrero\",\"Marzo\",\"Abril\",\"Mayo\",\"Junio\",\"Julio\",\"Agosto\",\"Septiembre\",\"Octubre\",\"Noviembre\",\"Diciembre\"],\r\n\t\t\t\tmonthShort:\t[\"Ene\",\"Feb\",\"Mar\",\"Abr\",\"May\",\"Jun\",\"Jul\",\"Ago\",\"Sep\",\"Oct\",\"Nov\",\"Dic\"],\r\n\t\t\t\tday:\t\t[\"Domingo\",\"Lunes\",\"Martes\",\"Mi\\xe9rcoles\",\"Jueves\",\"Viernes\",\"S\\xe1bado\"],\r\n\t\t\t\tdayShort:\t[\"Do\",\"Lu\",\"Ma\",\"Mi\",\"Ju\",\"Vi\",\"S\\xe1\"],\r\n\t\t\t\tbtncancel:\t\"Cancelar\",\r\n\t\t\t\tbtnok:\t\t\"OK\",\r\n\t\t\t\terrTitle:\t\"Valor de 'showTitle' no v\\xe1lido. Se usar\\xe1 el valor por defecto.\",\r\n\t\t\t\terrMode:\t\"Valor de 'mode' desconocido. Se usar\\xe1 el valor por defecto.\",\r\n\t\t\t\terrLang:\t\"Valor de 'lang' desconocido. Se usar\\xe1 el valor por defecto.\",\r\n\t\t\t\terrStart:\t\"Valor de 'startDay' no v\\xe1lido. Se usar\\xe1 el valor por defecto.\",\r\n\t\t\t\terrMin:\t\t\"Fecha m\\xednima no v\\xe1lida. Este par\\xe1metro ser\\xe1 ignorado.\",\r\n\t\t\t\terrMax:\t\t\"Fecha m\\xe1xima no v\\xe1lida. Este par\\xe1metro ser\\xe1 ignorado.\",\r\n\t\t\t\terrMinMax:\t\"La fecha m\\xednima es posterior a la fecha m\\xe1xima. Ambos par\\xe1metros ser\\xe1n ignorados.\",\r\n\t\t\t\terrDisplay:\t\"Valor de 'display' no v\\xe1lido. Este par\\xe1metro ser\\xe1 ignorado.\",\r\n\t\t\t\terrMsg:\t\t\"Valor de 'showMsg' no v\\xe1lido. Se usar\\xe1 el valor por defecto.\",\r\n\t\t\t\terrWeekDay:\t\"Valor de 'blockWeekdays' desconocido en la posici\\xf3n \",\r\n\t\t\t\terrWeekDay2:\"El par\\xe1metro 'blockWeekdays' debe ser un array.\",\r\n\t\t\t\terrInputField:\t\"No se ha encontrado el campo de entrada en la p\\xe1gina.\",\r\n\t\t\t\terrDateFormat:\t\"Formato de fecha no v\\xe1lido.\",\t\t\t\r\n\t\t\t\terrBlockDate:\t\"Fecha no v\\xe1lida en el par\\xe1metro 'blockDates' en la posici\\xf3n \",\r\n\t\t\t\terrFormat:\t\t\"Valor de 'dateFormat' no v\\xe1lido. Se usar\\xe1 el valor por defecto: 'mdy/'\",\r\n\t\t\t\terrTimeFormat:\t\"Valor de 'timeFormat' no v\\xe1lido. Se usar\\xe1 el valor por defecto: 'hm'\",\r\n\t\t\t\terrPosition:\t\"ID del elemento no v\\xe1lida. No se puede enlazar el objeto con este valor de 'position'. Se usar\\xe1 el valor por defecto: 'free'\",\r\n\t\t\t\terrPosition2:\t\"Valor de 'position' no v\\xe1lido. Se usar\\xe1 el valor por defecto: 'free'\",\r\n\t\t\t\terrShowDate:\t\"Valor de 'showDate' no v\\xe1lido. Se usar\\xe1 el valor por defecto: 'true'\"\r\n\t\t\t}\t\t\r\n\t\t};\r\n\t\t\r\n\t\t// Set input/output field\r\n\t\tif(typeof(dateField) != \"undefined\" && dateField != null){\r\n\t\t\tthis.inputDate = document.getElementById(dateField);\r\n\t\t\tif(this.inputDate == null){\r\n\t\t\t\tthis.error.push(this.lang[this.language].errInputField);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.setOptions(options);\r\n\t\t\r\n\t\t\t\r\n\t\tthis.fecha = null;\r\n\t\tthis.nuevaFecha = null;\r\n\t\t\r\n\t\tthis.contenedor = null;\r\n\t\tthis.dp = null;\r\n\t\t\r\n\t\tthis.titleContainer = null;\r\n\t\tthis.titleTxt = null;\r\n\t\tthis.title = title;\r\n\t\t\r\n\t\tthis.ymcontainer = null;\r\n\t\tthis.yearContainer = null;\r\n\t\tthis.year = null;\r\n\t\tthis.yearTxt = null;\r\n\t\tthis.yearPrev = null;\r\n\t\tthis.yearNext = null;\r\n\t\t\r\n\t\tthis.monthContainer = null;\r\n\t\tthis.month = null;\r\n\t\tthis.monthTxt = null;\r\n\t\t\r\n\t\tthis.daySelected = null;\r\n\t\tthis.daySelectedTxt = null;\r\n\t\t\r\n\t\tthis.dayWeek = null;\r\n\t\tthis.dayWeekTxt = null;\t\r\n\t\t\r\n\t\tthis.timeTxt = null;\t\r\n\t\t\r\n\t\tthis.btnCalendar = null;\r\n\t\tthis.btnHour = null;\r\n\t\t\r\n\t\tthis.msgContainer = null;\r\n\t\tthis.msgTxt = null;\r\n\t\tthis.msgList = null;\r\n\t\tthis.msgArrow = null;\r\n\t\t\r\n\t\tthis.tableContainer = null;\r\n\t\tthis.dpCurrWindow = \"calendar\";\t// calendar / time\r\n\t\t\r\n\t\tthis.calendarContainer = null;\r\n\t\tthis.calendar = null;\r\n\t\tthis.monthList = null;\r\n\t\tthis.yearList = null;\r\n\t\tthis.decadeListContainer = null;\r\n\t\tthis.decadeList = null;\r\n\t\tthis.decadeShift = 0;\r\n\t\t\r\n\t\tthis.timeContainer = null;\r\n\t\tthis.clockType = \"analog\";\r\n\t\t// Analog clock variables\r\n\t\tthis.timeWindow = null;\r\n\t\tthis.timeMinutesContainer = null;\r\n\t\tthis.svgNS = null;\r\n\t\tthis.analogClockSVG = null;\r\n\t\tthis.clockHandSelected = null;\r\n\t\tthis.clockHand = null;\t\r\n\t\t\r\n\t\t// Digital clock variables\r\n\t\tthis.dcHour = null;\r\n\t\tthis.dcbtnHourUp = null;\r\n\t\tthis.dcbtnHourDown = null;\r\n\t\tthis.dcMinute = null;\r\n\t\tthis.dcbtnMinUp = null;\r\n\t\tthis.dcbtnMinDown = null;\r\n\t\t\r\n\t\tthis.btnCancel = null;\r\n\t\tthis.btnOK = null;\r\n\t}\r\n\r\n\tsetOptions(options){\t\r\n\t\r\n\t\t// Validate the options passed as argument and load them.\r\n\t\tif(typeof(options) != \"undefined\" && options != null){\r\n\t\t\tvar tmplang = options['lang'];\r\n\t\t\tvar tmptitle = options['showTitle'];\r\n\t\t\tvar tmpmode = options['mode'];\r\n\t\t\tvar tmpdateformat = options['dateFormat'];\r\n\t\t\tvar tmptimeformat = options['timeFormat'];\r\n\t\t\tvar tmpstartday = options['startDay'];\r\n\t\t\tvar tmpmindate = options['minDate'];\r\n\t\t\tvar tmpmaxdate = options['maxDate'];\r\n\t\t\tvar tmpdisplay = options['display'];\r\n\t\t\tvar tmpshowmsg = options['showMsg'];\r\n\t\t\tvar tmpblockweekdays = options['blockWeekdays'];\r\n\t\t\tvar tmpblockdates = options['blockDates'];\r\n\t\t\tvar tmpposition = options['position'];\r\n\t\t\tvar tmpshowdate = options['showDate'];\r\n\t\t\t\r\n\t\t\t// Select language\r\n\t\t\tif(typeof(tmplang) != \"undefined\" && tmplang != null){\t\t\t\r\n\t\t\t\tif(this.lang[tmplang] == null){\t\t\t\t\r\n\t\t\t\t\tthis.language = \"en\";\r\n\t\t\t\t\tthis.warning.push(this.lang[this.language].errLang);\r\n\t\t\t\t}else{\t\t\t\t\t\t\r\n\t\t\t\t\tthis.language = tmplang;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Print the date in the input field on submit\r\n\t\t\tif(typeof(tmpshowdate) != \"undefined\" && tmpshowdate != null){\t\t\t\r\n\t\t\t\tif(typeof(tmpshowdate) === 'boolean'){\t\t\t\t\r\n\t\t\t\t\tthis.showDate = tmpshowdate;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.warning.push(this.lang[this.language].errShowDate);\r\n\t\t\t\t\tthis.showDate = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Show/hide title\t\t\r\n\t\t\tif(typeof(tmptitle) != \"undefined\" && tmptitle != null){\r\n\t\t\t\tif(typeof(tmptitle) === 'boolean'){\r\n\t\t\t\t\tthis.showTitle = tmptitle;\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.warning.push(this.lang[this.language].errTitle);\r\n\t\t\t\t\tthis.showTitle = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Set the datepicker mode\r\n\t\t\tif(typeof(tmpmode) != \"undefined\" && tmpmode != null){\r\n\t\t\t\tif(tmpmode === \"date\"){\r\n\t\t\t\t\tthis.dpMode = \"date\";\r\n\t\t\t\t}else if(tmpmode === \"time\"){\r\n\t\t\t\t\tthis.dpMode = \"time\";\r\n\t\t\t\t}else if(tmpmode === \"datetime\"){\r\n\t\t\t\t\tthis.dpMode = \"datetime\";\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.dpMode = \"datetime\";\r\n\t\t\t\t\tthis.warning.push(this.lang[this.language].errMode);\r\n\t\t\t\t}\r\n\t\t\t}\t\t\r\n\t\t\t\r\n\t\t\t// Set date format\r\n\t\t\tif(typeof(tmpdateformat) != \"undefined\" && tmpdateformat != null){\t\t\t\r\n\t\t\t\tif(typeof(tmpdateformat) === 'string' && tmpdateformat.length === 4){\t\t\t\t\r\n\t\t\t\t\tvar sep = tmpdateformat.substr(3);\r\n\t\t\t\t\tif(sep !== '/' && sep !== '-'){\t\t\t\t\t\r\n\t\t\t\t\t\tthis.error = this.lang[this.language].errFormat;\r\n\t\t\t\t\t}else{\t\t\t\t\t\r\n\t\t\t\t\t\tvar p = tmpdateformat.substr(0,3);\t\t\t\t\t\r\n\t\t\t\t\t\tif(p === 'ymd' || p === 'ydm' || p === 'dmy' || p === 'mdy'){\r\n\t\t\t\t\t\t\tthis.dateFormat = tmpdateformat;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.error = this.lang[this.language].errFormat;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.error = this.lang[this.language].errFormat;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Set time format\r\n\t\t\tif(typeof(tmptimeformat) != \"undefined\" && tmptimeformat != null){\t\t\t\r\n\t\t\t\tif(tmptimeformat === 'h' || tmptimeformat === 'hm' || tmptimeformat === 'hms'){\r\n\t\t\t\t\tthis.timeFormat = tmptimeformat;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.error = this.lang[this.language].errTimeFormat;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Set the starting day of the week\r\n\t\t\tif(typeof(tmpstartday) != \"undefined\" && tmpstartday != null){\r\n\t\t\t\tif(tmpstartday >= 0 && tmpstartday < 7){\t\t\t\t\r\n\t\t\t\t\tthis.startDay = tmpstartday;\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.warning.push(this.lang[this.language].errStart);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Set the minimum date that can be picked\r\n\t\t\tif(typeof(tmpmindate)!= \"undefined\" && tmpmindate != null && this.dpMode !== \"time\"){\r\n\t\t\t\t\r\n\t\t\t\tthis.minDate = this.createDate(tmpmindate);\r\n\t\t\t\tif(!this.isDate(this.minDate)){\t\t\t\t\r\n\t\t\t\t\tthis.minDate = null;\r\n\t\t\t\t\tthis.warning.push(this.lang[this.language].errMin);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Set the maximum date that can be picked\r\n\t\t\tif(typeof(tmpmaxdate)!= \"undefined\" && tmpmaxdate != null && this.dpMode !== \"time\"){\r\n\t\t\t\t\r\n\t\t\t\tthis.maxDate = this.createDate(tmpmaxdate);\r\n\t\t\t\tif(!this.isDate(this.maxDate)){\r\n\t\t\t\t\tthis.maxDate = null;\r\n\t\t\t\t\tthis.warning.push(this.lang[this.language].errMax);\r\n\t\t\t\t}\r\n\t\t\t}\t\t\r\n\t\t\t\r\n\t\t\t// Set the type of display\r\n\t\t\tif(typeof(tmpdisplay)!= \"undefined\" && tmpdisplay != null){\r\n\t\t\t\tif(tmpdisplay === \"compact\"){\t\t\t\t\r\n\t\t\t\t\tthis.display = \"compact\";\t\t\t\r\n\t\t\t\t}else if(tmpdisplay === \"full\"){\r\n\t\t\t\t\tthis.display = \"full\";\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.warning.push(this.lang[this.language].errDisplay);\r\n\t\t\t\t}\r\n\t\t\t}\t\t\r\n\t\t\t\r\n\t\t\t// Show / hide the error and warning messages\r\n\t\t\tif(typeof(tmpshowmsg)!= \"undefined\" && tmpshowmsg != null){\r\n\t\t\t\tif(tmpshowmsg === true){\r\n\t\t\t\t\tthis.showMsg = true;\r\n\t\t\t\t}else if (tmpshowmsg === false){\r\n\t\t\t\t\tthis.showMsg = false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.warning.push(this.lang[this.language].errMsg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Set the position of the widget\r\n\t\t\tif(typeof(tmpposition)!= \"undefined\" && tmpposition != null){\r\n\t\t\t\tif(tmpposition === \"free\"){\r\n\t\t\t\t\tthis.position = tmpposition;\r\n\t\t\t\t}else if (tmpposition === \"attach\" || tmpposition === \"fixed\"){\r\n\t\t\t\t\tif(this.inputDate !== null ){\r\n\t\t\t\t\t\tthis.position = tmpposition;\r\n\t\t\t\t\t}else{\t\t\t\t\t\r\n\t\t\t\t\t\tthis.warning.push(this.lang[this.language].errPosition);\r\n\t\t\t\t\t\tthis.position = \"free\";\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.warning.push(this.lang[this.language].errPosition2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Set the weekdays that are blocked\r\n\t\t\tif(typeof(tmpblockweekdays) != \"undefined\" && tmpblockweekdays != null && this.dpMode !== \"time\"){\r\n\t\t\t\t// Checks if the object passed is an array\r\n\t\t\t\tif(Object.prototype.toString.call(tmpblockweekdays) === '[object Array]'){\r\n\t\t\t\t\tthis.blockdays = [];\r\n\t\t\t\t\tfor(var i=0;i<tmpblockweekdays.length;i++){\r\n\t\t\t\t\t\tswitch(tmpblockweekdays[i]){\r\n\t\t\t\t\t\t\tcase \"mon\":\r\n\t\t\t\t\t\t\t\tthis.blockdays.push(1);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"tue\":\r\n\t\t\t\t\t\t\t\tthis.blockdays.push(2);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"wed\":\r\n\t\t\t\t\t\t\t\tthis.blockdays.push(3);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"thu\":\r\n\t\t\t\t\t\t\t\tthis.blockdays.push(4);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"fri\":\r\n\t\t\t\t\t\t\t\tthis.blockdays.push(5);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"sat\":\r\n\t\t\t\t\t\t\t\tthis.blockdays.push(6);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase \"sun\":\r\n\t\t\t\t\t\t\t\tthis.blockdays.push(0);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tthis.error.push(this.lang[this.language].errWeekDay + i);\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.error.push(this.lang[this.language].errWeekDay);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// Set the dates blocked\r\n\t\t\tif(typeof(tmpblockdates) != \"undefined\" && tmpblockdates != null && this.dpMode !== \"time\"){\t\t\t\r\n\t\t\t\tfor(var i = 0; i< tmpblockdates.length; i++){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif(tmpblockdates[i].length === 1){\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar d = this.createDate(tmpblockdates[i][0]);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(this.isDate(d)){\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.blockDates.push([d]);\t\t\t\t\t\t\r\n\t\t\t\t\t\t}else{\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.warning.push(this.lang[this.language].errBlockDate + i);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else if(tmpblockdates[i].length === 2){\t\t\t\t\t\r\n\t\t\t\t\t\tvar daterange = tmpblockdates[i];\r\n\t\t\t\t\t\tvar d1 = this.createDate(daterange[0]);\r\n\t\t\t\t\t\tvar d2 = this.createDate(daterange[1]);\r\n\t\t\t\t\t\tif(this.isDate(d1) && this.isDate(d2)){\r\n\t\t\t\t\t\t\tif(d1<= d2){\r\n\t\t\t\t\t\t\t\tthis.blockDates.push([d1,d2]);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthis.warning.push(this.lang[this.language].errBlockDate + i);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.warning.push(this.lang[this.language].errBlockDate + i);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.warning.push(this.lang[this.language].errBlockDate + i);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\t\r\n\t\t\r\n\t\t// Validates min and max dates\r\n\t\tif(this.minDate != null && this.maxDate != null){\r\n\t\t\tif(this.minDate.getTime() > this.maxDate.getTime()){\r\n\t\t\t\tthis.minDate = null;\r\n\t\t\t\tthis.maxDate = null;\r\n\t\t\t\tthis.warning.push(this.lang[this.language].errMinMax);\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t// Validates the block dates\r\n\t\tfor(var i = 0; i< this.blockDates.length; i++){\r\n\t\t\tif(this.blockDates[i].length === 1){\t\t\t\r\n\t\t\t\tif(!this.dateInRange(this.blockDates[i][0],\"day\")){\t\t\t\t\t\r\n\t\t\t\t\tthis.blockDates.splice(i);\t\t\t\t\r\n\t\t\t\t\tthis.warning.push(this.lang[this.language].errBlockDate + i);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif( ( (this.maxDate != null && this.blockDates[i][0] > this.maxDate) || (this.minDate != null && this.blockDates[i][1] < this.minDate)) || \r\n\t\t\t\t\tthis.blockDates[i][1] < this.blockDates[i][0]\r\n\t\t\t\t){\t\t\t\t\t\r\n\t\t\t\t\tthis.blockDates.splice(i);\r\n\t\t\t\t\tthis.warning.push(this.lang[this.language].errBlockDate + i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\t\r\n\t\t\r\n\t\t// Updates the weekdays positions in the array depending on the start day.\r\n\t\tfor(var i=0; i<this.startDay;i++){\r\n\t\t\tthis.lang[this.language].day.push(this.lang[this.language].day.shift());\r\n\t\t\tthis.lang[this.language].dayShort.push(this.lang[this.language].dayShort.shift());\t\t\t\t\r\n\t\t}\t\r\n\t}\r\n\r\n\treset (){\r\n\t\tthis.dpMode = \"datetime\";\t\r\n\t\t//this.inputDate = null;\r\n\t\tthis.showDate = true;\r\n\t\tthis.language = \"en\";\r\n\t\tthis.startDay = 1;\t// Monday\r\n\t\tthis.minDate = null;\r\n\t\tthis.maxDate = null;\r\n\t\tthis.showTitle = true;\r\n\t\tthis.blockdays = [];\r\n\t\tthis.display = \"full\";\r\n\t\tthis.showMsg = true;\r\n\t\tthis.blockDates = [];\r\n\t\tthis.dateFormat = \"dmy/\";\r\n\t\tthis.timeFormat = \"hm\";\r\n\t\tthis.position = \"free\";\r\n\t\t\r\n\t\tthis.error = [];\r\n\t\tthis.warning = [];\r\n\t\tthis.info = [];\r\n\t\t\r\n\t\tthis.fecha = null;\r\n\t\tthis.nuevaFecha = null;\r\n\t\t\r\n\t\tthis.setOptions(this.defOptions);\r\n\t\tthis.dpCurrWindow = \"calendar\";\r\n\t\t\r\n\t}\r\n\tshow (){\r\n\t\tvar dpInstance = this;\t\r\n\t\t\r\n\t\tif(this.initialized){\t\t\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tthis.error = [];\r\n\t\t\r\n\t\t\r\n\t\tif(this.inputDate != null && this.showDate === true){\t\t\r\n\t\t\tthis.fecha =  this.setStartDate();\t\t\r\n\t\t}\r\n\t\t\r\n\t\t// Check if the setDate method returns a valid date. If the returned value is not a valid date, sets the current date.\r\n\t\tif(!this.isDate(this.fecha)){\r\n\t\t\tthis.fecha = new Date();\r\n\t\t}\r\n\t\t\r\n\t\tif(this.minDate != null && this.fecha < this.minDate){\r\n\t\t\tthis.fecha = new Date(this.minDate.getTime());\r\n\t\t}\r\n\t\tif(this.maxDate != null && this.fecha > this.maxDate){\r\n\t\t\tthis.fecha = new Date(this.maxDate.getTime());\r\n\t\t}\r\n\t\t\r\n\t\tthis.nuevaFecha = new Date(this.fecha.getTime());\r\n\t\t\r\n\t\tthis.contenedor = document.createElement(\"div\");\r\n\t\tif(this.position === \"attach\"){\t\t\r\n\t\t\tthis.contenedor.className = \"orzk-dp_contenedor_attach\";\t\t\r\n\t\t\tvar coord = this.inputDate.getBoundingClientRect();\t\r\n\t\t\t\r\n\t\t\t//this.contenedor.style.top = (coord.top + coord.height + (this.inputDate.offsetTop - coord.top))+'px';\t\r\n\t\t\tthis.contenedor.style.top = (window.scrollY + coord.top + coord.height)+'px';\r\n\t\t\tthis.contenedor.style.left = (window.scrollX + coord.left)+'px';\t\t\r\n\t\t\t\t\r\n\t\t}else{\r\n\t\t\tthis.contenedor.className = \"orzk-dp_contenedor\";\r\n\t\t}\r\n\t\tthis.contenedor.id = \"datepicker\";\r\n\t\tthis.contenedor.onclick = function(){\r\n\t\t\t//this.parentNode.removeChild(this);\r\n\t\t};\r\n\t\t\r\n\t\tthis.dp = document.createElement(\"div\");\r\n\t\tif(this.position === \"attach\"){\r\n\t\t\tthis.dp.className = \"orzk-dp_datepicker_attach\";\r\n\t\t}else{\r\n\t\t\tthis.dp.className = \"orzk-dp_datepicker\";\r\n\t\t}\r\n\t\t\r\n\t\tif(this.title != null && this.showTitle){\r\n\t\t\tthis.titleContainer = document.createElement(\"div\");\r\n\t\t\tthis.titleContainer.className = \"orzk-dp_title\";\r\n\t\t\tthis.titleTxt = document.createTextNode(this.title);\r\n\t\t\tthis.titleContainer.appendChild(this.titleTxt);\r\n\t\t}\r\n\t\t\r\n\t\tif(this.dpMode !== \"time\"){\r\n\t\t\t// Year - month container\r\n\t\t\tthis.ymcontainer = document.createElement(\"div\");\r\n\t\t\t\r\n\t\t\t// Year block\r\n\t\t\tthis.yearContainer = document.createElement(\"div\");\r\n\t\t\tthis.yearContainer.className = \"orzk-dp_year_month_container\";\r\n\t\t\t\r\n\t\t\tthis.yearPrev = document.createElement(\"div\");\t\t\r\n\t\t\tthis.yearPrev.className = \"orzk-dp_arrow orzk-dp_left\";\r\n\t\t\tthis.yearPrev.id = \"dp_year_prev\";\r\n\t\t\tthis.yearPrev.onclick = function() {\t\t\t\r\n\t\t\t\tvar year = dpInstance.nuevaFecha.getFullYear()-1;\t\r\n\t\t\t\t\r\n\t\t\t\tdpInstance.nuevaFecha.setFullYear(year);\r\n\t\t\t\t\r\n\t\t\t\tdpInstance.updateDisplay();\r\n\t\t\t};\t\r\n\t\t\t\r\n\t\t\tthis.yearNext = document.createElement(\"div\");\t\t\r\n\t\t\tthis.yearNext.className = \"orzk-dp_arrow orzk-dp_right\";\r\n\t\t\tthis.yearNext.id = \"dp_year_next\";\r\n\t\t\tthis.yearNext.onclick = function() {\t\t\t\r\n\t\t\t\tvar year = dpInstance.nuevaFecha.getFullYear()+1;\t\r\n\t\t\t\t\r\n\t\t\t\tdpInstance.nuevaFecha.setFullYear(year);\r\n\t\t\t\t\r\n\t\t\t\tdpInstance.updateDisplay();\r\n\t\t\t};\t\t\r\n\t\t\t\r\n\t\t\tthis.year = document.createElement(\"div\");\r\n\t\t\tthis.year.className = \"orzk-dp_year_month\";\r\n\t\t\tthis.yearTxt = document.createTextNode(this.lang[this.language].month[this.fecha.getMonth()]);\r\n\t\t\tthis.year.onclick = function(){\r\n\t\t\t\tdpInstance.showCalendar();\r\n\t\t\t\tif(document.getElementById(\"dp-year-list\")== null || dpInstance.dpCurrWindow === \"time\"){\t\t\t\t\r\n\t\t\t\t\tdpInstance.printYearList(0);\r\n\t\t\t\t}else{\t\t\t\t\r\n\t\t\t\t\tdpInstance.updateDisplay();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tthis.year.appendChild(this.yearTxt);\r\n\t\t\t\r\n\t\t\tthis.yearContainer.appendChild(this.yearPrev);\t\t\r\n\t\t\tthis.yearContainer.appendChild(this.year);\r\n\t\t\tthis.yearContainer.appendChild(this.yearNext);\r\n\t\t\t\r\n\t\t\t// Month block\t\t\r\n\t\t\tthis.monthContainer = document.createElement(\"div\");\r\n\t\t\tthis.monthContainer.className=\"orzk-dp_year_month_container\";\r\n\t\t\t\r\n\t\t\tthis.monthPrev = document.createElement(\"div\");\r\n\t\t\tthis.monthPrev.className = \"orzk-dp_arrow orzk-dp_left\";\r\n\t\t\tthis.monthPrev.id = \"dp_month_prev\";\r\n\t\t\tthis.monthPrev.onclick = function() {\r\n\t\t\t\tvar month = dpInstance.nuevaFecha.getMonth() - 1;\r\n\t\t\t\tvar year = dpInstance.nuevaFecha.getFullYear();\r\n\t\t\t\t\r\n\t\t\t\tif(month < 0){\r\n\t\t\t\t\tmonth = 11;\r\n\t\t\t\t\tyear--;\r\n\t\t\t\t}\r\n\t\t\t\tdpInstance.nuevaFecha.setMonth(month);\r\n\t\t\t\tdpInstance.nuevaFecha.setFullYear(year);\r\n\t\t\t\t\r\n\t\t\t\tdpInstance.updateDisplay();\t\t\t\r\n\t\t\t};\t\r\n\t\t\t\r\n\t\t\tthis.monthNext = document.createElement(\"div\");\r\n\t\t\tthis.monthNext.className = \"orzk-dp_arrow orzk-dp_right\";\r\n\t\t\tthis.monthNext.id = \"dp_month_next\";\t\t\r\n\t\t\tthis.monthNext.onclick = function() {\r\n\t\t\t\tvar month = dpInstance.nuevaFecha.getMonth() + 1;\r\n\t\t\t\tvar year = dpInstance.nuevaFecha.getFullYear();\r\n\t\t\t\t\r\n\t\t\t\tif(month > 11){\r\n\t\t\t\t\tmonth = 0;\r\n\t\t\t\t\tyear++;\r\n\t\t\t\t}\r\n\t\t\t\tdpInstance.nuevaFecha.setMonth(month);\r\n\t\t\t\tdpInstance.nuevaFecha.setFullYear(year);\r\n\t\t\t\t\r\n\t\t\t\tdpInstance.updateDisplay();\r\n\t\t\t};\t\t\r\n\t\t\t\r\n\t\t\tthis.month = document.createElement(\"div\");\r\n\t\t\tthis.month.className = \"orzk-dp_year_month\";\r\n\t\t\tthis.monthTxt = document.createTextNode(this.lang[this.language].month[this.fecha.getMonth()]);\r\n\t\t\tthis.month.onclick = function(){\r\n\t\t\t\tdpInstance.showCalendar();\r\n\t\t\t\t\r\n\t\t\t\tif(document.getElementById(\"dp-month-list\")== null || dpInstance.dpCurrWindow === \"time\"){\t\t\t\t\r\n\t\t\t\t\tdpInstance.printMonthList();\r\n\t\t\t\t}else{\t\t\t\t\r\n\t\t\t\t\tdpInstance.updateDisplay();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t};\r\n\t\t\tthis.month.appendChild(this.monthTxt);\r\n\t\t\t\r\n\t\t\tthis.monthContainer.appendChild(this.monthPrev);\r\n\t\t\tthis.monthContainer.appendChild(this.month);\r\n\t\t\tthis.monthContainer.appendChild(this.monthNext);\r\n\t\t\t\r\n\t\t\tthis.ymcontainer.appendChild(this.monthContainer);\r\n\t\t\tthis.ymcontainer.appendChild(this.yearContainer);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// Day block\r\n\t\t\tthis.daySelected = document.createElement(\"div\");\r\n\t\t\tthis.daySelected.className=\"orzk-dp_day\";\t\t\r\n\t\t\tthis.daySelectedTxt = document.createTextNode(this.fecha.getDate());\r\n\t\t\tthis.daySelected.appendChild(this.daySelectedTxt);\r\n\t\t\t\r\n\t\t\t// Day of the week block\r\n\t\t\tthis.dayWeek = document.createElement(\"div\");\r\n\t\t\tthis.dayWeek.className=\"orzk-dp_dayweek\";\r\n\t\t\tthis.dayWeekTxt = document.createTextNode(this.lang[this.language].day[this.fecha.getDay()]);\r\n\t\t\tthis.dayWeek.appendChild(this.dayWeekTxt);\r\n\t\t}\r\n\t\t\r\n\t\tif(this.dpMode !== \"date\"){\r\n\t\t\t// Time block\t\r\n\t\t\tthis.timeTxt = document.createElement(\"div\");\r\n\t\t\tthis.timeTxt.className = \"orzk-dp_time\";\t\t\r\n\t\t}\r\n\t\t\r\n\t\tvar dayhourContainer = null;\r\n\t\tif(this.dpMode === \"datetime\"){\r\n\t\t\t// Calendar / hour buttons\r\n\t\t\tdayhourContainer = document.createElement(\"div\");\r\n\t\t\tdayhourContainer.className = \"orzk-dp_dayhourcontainer\";\r\n\t\t\tthis.btnCalendar = document.createElement(\"div\");\r\n\t\t\tthis.btnCalendar.className = \"orzk-dp-icon-calendar orzk-dp_calendar_button orzk-dp_dayhour_button_selected\";\r\n\t\t\tthis.btnCalendar.onclick = function (){\r\n\t\t\t\tdpInstance.showCalendar();\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tthis.btnHour = document.createElement(\"div\");\r\n\t\t\tthis.btnHour.className = \"orzk-dp-icon-time orzk-dp_hour_button\";\r\n\t\t\tthis.btnHour.onclick = function (){\r\n\t\t\t\tdpInstance.showTime();\t\t\t\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tdayhourContainer.appendChild(this.btnCalendar);\r\n\t\t\tdayhourContainer.appendChild(this.btnHour);\r\n\t\t}\r\n\t\t\r\n\t\t// Message block\r\n\t\tthis.msgContainer = document.createElement(\"div\");\r\n\t\tthis.msgContainer.className = \"orzk-dp_msg orzk-dp_hide\";\r\n\t\tthis.msgContainer.onclick = function(){\r\n\t\t\tif(dpInstance.msgTxt.className.indexOf(\"hide\") !== -1){\r\n\t\t\t\tdpInstance.msgTxt.style.top = dpInstance.msgContainer.style.top + dpInstance.msgContainer.height;\r\n\t\t\t\tdpInstance.msgTxt.className = dpInstance.msgTxt.className.replace(/\\borzk-dp_hide\\b/,\"\");\r\n\t\t\t\tdpInstance.msgArrow.className = \"orzk-dp_up\";\r\n\t\t\t}else{\r\n\t\t\t\tdpInstance.msgTxt.className += \" orzk-dp_hide\";\t\r\n\t\t\t\tdpInstance.msgArrow.className = \"orzk-dp_down\";\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.msgTxt = document.createElement(\"div\");\r\n\t\tthis.msgTxt.className = \"orzk-dp_msg_list orzk-dp_hide\";\r\n\t\tthis.msgTxt.onclick = function(){\r\n\t\t\tdpInstance.msgTxt.className += \" orzk-dp_hide\";\r\n\t\t\tdpInstance.msgArrow.className = \"orzk-dp_down\";\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\tif(this.dpMode !== \"date\"){\r\n\t\t\t// Clock block\r\n\t\t\tthis.timeContainer = document.createElement(\"div\");\r\n\t\t\tthis.timeContainer.className = \"orzk-dp_time_container orzk-dp_hide\";\r\n\t\t\tif(this.clockType === \"analog\"){\r\n\t\t\t\tthis.timeWindow = \"hour\";\t\r\n\t\t\t\t\r\n\t\t\t\tthis.timeMinutesContainer = document.createElement(\"div\");\r\n\t\t\t\tthis.timeMinutesContainer.className = \"orzk-dp_time_minutes\";\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.analogClockSVG = document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\");\r\n\t\t\t\tthis.svgNS = this.analogClockSVG.namespaceURI;\r\n\t\t\t\tthis.analogClockSVG.setAttribute(\"class\",\"orzk-dp_clock_svg orzk-dp_hide\");\r\n\t\t\t\tthis.clockHand = document.createElementNS(this.svgNS,\"line\");\r\n\t\t\t\tthis.clockHandSelected = document.createElementNS(this.svgNS,\"line\");\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.analogClockSVG.appendChild(this.clockHand);\r\n\t\t\t\tthis.analogClockSVG.appendChild(this.clockHandSelected);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}/*else if(this.clockType == \"digital\"){\r\n\t\t\t\t\r\n\t\t\t}*/\r\n\t\t}\r\n\t\t\r\n\t\tif(this.dpMode !== \"time\"){\r\n\t\t\t// Calendar block\r\n\t\t\tthis.calendarContainer = document.createElement(\"div\");\t\t\r\n\t\t\tthis.printCalendar();\r\n\t\t}\r\n\t\t\r\n\t\tthis.tableContainer = document.createElement(\"div\");\r\n\t\tthis.tableContainer.className = \"orzk-dp_table_container\";\r\n\t\tif(this.dpMode !== \"time\"){\r\n\t\t\tthis.tableContainer.appendChild(this.calendarContainer);\r\n\t\t}\r\n\t\tif(this.dpMode !== \"date\"){\r\n\t\t\tthis.tableContainer.appendChild(this.timeContainer);\r\n\t\t\tthis.tableContainer.appendChild(this.analogClockSVG);\r\n\t\t}\r\n\t\t\r\n\t\t// Buttons\r\n\t\tvar btnContainer = document.createElement(\"div\");\r\n\t\tbtnContainer.className = \"orzk-dp_btn_container\";\r\n\t\t\r\n\t\tthis.btnCancel = document.createElement(\"div\");\r\n\t\tthis.btnCancel.className = \"orzk-dp_button\";\r\n\t\tthis.btnCancel.appendChild(document.createTextNode(this.lang[this.language].btncancel));\r\n\t\tthis.btnCancel.onclick = function(){\r\n\t\t\tdpInstance.nuevaFecha = dpInstance.fecha;\r\n\t\t\tdpInstance.close();\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\tthis.btnOK = document.createElement(\"div\");\r\n\t\tthis.btnOK.className = \"orzk-dp_button\";\r\n\t\tthis.btnOK.appendChild(document.createTextNode(this.lang[this.language].btnok));\r\n\t\tthis.btnOK.onclick = function(){\t\t\r\n\t\t\tdpInstance.fecha = new Date(dpInstance.nuevaFecha.getTime());\t\t\r\n\t\t\tdpInstance.onSubmit(dpInstance.fecha);\t\t\t\r\n\t\t\tdpInstance.close();\t\t\r\n\t\t};\r\n\t\t\r\n\t\tbtnContainer.appendChild(this.btnCancel);\r\n\t\tbtnContainer.appendChild(this.btnOK);\r\n\t\t\r\n\t\t\r\n\t\tif(this.showTitle){\r\n\t\t\tthis.dp.appendChild(this.titleContainer);\r\n\t\t}\r\n\t\t\r\n\t\tthis.dp.appendChild(this.msgContainer);\r\n\t\tthis.dp.appendChild(this.msgTxt);\r\n\t\t\r\n\t\tif(this.dpMode !== \"time\"){\r\n\t\t\tthis.dp.appendChild(this.ymcontainer);\r\n\t\t\tif(this.display === \"full\"){\r\n\t\t\t\tthis.dp.appendChild(this.dayWeek);\t\r\n\t\t\t\tthis.dp.appendChild(this.daySelected);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif((this.dpMode !== \"date\") || this.dpMode === \"time\"){\t\t\r\n\t\t\tthis.dp.appendChild(this.timeTxt);\r\n\t\t}\r\n\t\tif(this.dpMode === \"datetime\"){\r\n\t\t\tthis.dp.appendChild(dayhourContainer);\r\n\t\t}\r\n\t\t\r\n\t\tthis.dp.appendChild(this.tableContainer);\r\n\t\tthis.dp.appendChild(btnContainer);\r\n\t\t\r\n\t\tif(this.position === \"attach\"){\t\t\r\n\t\t\tvar arrow = document.createElement(\"div\");\r\n\t\t\tarrow.className = \"orzk-dp_arrow_attach\";\t\t\r\n\t\t\tthis.contenedor.appendChild(arrow);\r\n\t\t}\r\n\t\tthis.contenedor.appendChild(this.dp);\t\r\n\t\t\r\n\t\tdocument.body.appendChild(this.contenedor);\r\n\t\tif(this.dpMode === \"time\"){\r\n\t\t\tthis.dpCurrWindow = \"time\";\r\n\t\t}else{\r\n\t\t\tthis.dpCurrWindow = \"calendar\";\r\n\t\t}\r\n\t\tthis.updateDisplay();\r\n\t\t\r\n\t\tthis.initialized = true;\r\n\t}\r\n\r\n\t\r\n\tupdateDisplay (){\t\r\n\t\tif(this.dpMode !== \"time\"){\r\n\t\t\tthis.yearTxt.nodeValue = this.nuevaFecha.getFullYear();\r\n\t\t\tthis.monthTxt.nodeValue = this.lang[this.language].month[this.nuevaFecha.getMonth()];\r\n\t\t\tif(this.dateInRange(this.nuevaFecha,\"day\") && !this.dateIsBlocked(this.nuevaFecha)){\r\n\t\t\t\tthis.daySelectedTxt.nodeValue = this.nuevaFecha.getDate();\r\n\t\t\t\tthis.dayWeekTxt.nodeValue = this.lang[this.language].day[(this.nuevaFecha.getDay()+6)%7];\r\n\t\t\t}else{\r\n\t\t\t\tthis.daySelectedTxt.nodeValue = \"--\";\r\n\t\t\t\tthis.dayWeekTxt.nodeValue = \"-\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.printCalendar();\r\n\t\t\tif(this.daySelectedTxt != null && this.daySelectedTxt.nodeValue !== \"--\"){\t\t\t\r\n\t\t\t\tdocument.getElementById(\"datepicker_d_\"+this.daySelectedTxt.nodeValue).className = \"orzk-dp_calendar_day_selected\";\r\n\t\t\t}\t\t\r\n\t\t}\r\n\t\tif(this.dpMode !== \"date\"){\r\n\t\t\tthis.updateTime(this.nuevaFecha);\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(this.dpCurrWindow === \"time\"){\t\t\r\n\t\t\tthis.showTime();\r\n\t\t}\r\n\t\t\r\n\t\tif(this.dpMode === \"time\" || (this.dpMode !== \"time\" && (this.dateInRange(this.nuevaFecha,\"day\") && !this.dateIsBlocked(this.nuevaFecha))) ){\r\n\t\t\tthis.btnOK.className = this.btnOK.className.replace(/\\borzk-dp_invisible\\b/,\"\");\r\n\t\t}else{\r\n\t\t\tif(this.btnOK.className.indexOf(\"orzk-dp_invisible\") === -1){\r\n\t\t\t\tthis.btnOK.className += \" orzk-dp_invisible\";\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\t\r\n\t\tif(this.showMsg === true && (this.info.length >0 || this.error.length > 0 || this.warning.length > 0)){\r\n\t\t\tthis.clearMsgContainer();\t\t\r\n\t\t\tvar icon;\r\n\t\t\t/*\r\n\t\t\tif(this.info.length > 0){\r\n\t\t\t\t\r\n\t\t\t}*/\r\n\t\t\t\r\n\t\t\tif(this.error.length>0){\r\n\t\t\t\ticon = document.createElement(\"div\");\r\n\t\t\t\ticon.className = \"orzk-dp_error_icon\";\r\n\t\t\t\ticon.appendChild(document.createTextNode(this.error.length + \" error\"));\r\n\t\t\t\tthis.msgContainer.appendChild(icon);\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tfor(var i=0; i< this.error.length; i++){\r\n\t\t\t\t\tvar msg = document.createElement(\"div\");\r\n\t\t\t\t\tmsg.className = \"orzk-dp_msg_error\";\r\n\t\t\t\t\tmsg.appendChild(document.createTextNode(this.error[i]));\r\n\t\t\t\t\tthis.msgTxt.appendChild(msg);\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(this.warning.length > 0){\t\r\n\t\t\t\ticon = document.createElement(\"div\");\r\n\t\t\t\ticon.className = \"orzk-dp_warning_icon\";\r\n\t\t\t\ticon.appendChild(document.createTextNode(this.warning.length + \" warning\"));\r\n\t\t\t\tthis.msgContainer.appendChild(icon);\t\r\n\t\t\t\t\r\n\t\t\t\tfor(var i=0; i< this.warning.length; i++){\r\n\t\t\t\t\tvar msg = document.createElement(\"div\");\r\n\t\t\t\t\tmsg.className = \"orzk-dp_msg_warning\";\r\n\t\t\t\t\tmsg.appendChild(document.createTextNode(this.warning[i]));\r\n\t\t\t\t\tthis.msgTxt.appendChild(msg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.msgArrow = document.createElement(\"div\");\r\n\t\t\tthis.msgArrow.className = \"orzk-dp_down\";\r\n\t\t\tthis.msgContainer.appendChild(this.msgArrow);\r\n\t\t\tthis.msgContainer.className = this.msgContainer.className.replace(/\\borzk-dp_hide\\b/,\"\");\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tdaysInMonth(){\r\n\t\treturn 32 - new Date(this.nuevaFecha.getFullYear(),this.nuevaFecha.getMonth(),32).getDate();\r\n\t}\r\n\t\r\n\tfirstDay (){\r\n\t\tvar wd = new Date(this.nuevaFecha.getFullYear(),this.nuevaFecha.getMonth()).getDay();\t\r\n\t\treturn (wd +(7-this.startDay))%7;\r\n\t}\r\n\t\r\n\tclearCalendarContainer (){\r\n\t\t// Elimina los elementos anteriores\r\n\t\twhile(this.calendarContainer.firstChild){\r\n\t\t\tthis.calendarContainer.removeChild(this.calendarContainer.firstChild);\r\n\t\t}\r\n\t}\r\n\t\r\n\tclearTimeContainer (){\r\n\t\t// Elimina los elementos anteriores\r\n\t\twhile(this.timeContainer.firstChild){\r\n\t\t\tthis.timeContainer.removeChild(this.timeContainer.firstChild);\r\n\t\t}\r\n\t}\r\n\r\n\tclearMsgContainer (){\t\r\n\t\t// Elimina los elementos anteriores\r\n\t\twhile(this.msgContainer.firstChild){\r\n\t\t\tthis.msgContainer.removeChild(this.msgContainer.firstChild);\r\n\t\t}\r\n\t\twhile(this.msgTxt.firstChild){\r\n\t\t\tthis.msgTxt.removeChild(this.msgTxt.firstChild);\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tprintCalendar (){\r\n\t\tvar dpInstance = this;\r\n\t\tthis.clearCalendarContainer();\r\n\t\t\r\n\t\tthis.calendar = document.createElement(\"table\");\r\n\t\tthis.calendar.className=\"orzk-dp_days\";\r\n\t\t\r\n\t\tvar week = document.createElement(\"tr\");\r\n\t\tfor(var i = 0; i< this.lang[this.language].day.length;i++){\r\n\t\t\tvar day = document.createElement(\"th\");\r\n\t\t\tday.appendChild(document.createTextNode(this.lang[this.language].dayShort[i]));\r\n\t\t\tday.id = \"wd_\"+i;\r\n\t\t\tweek.appendChild(day);\r\n\t\t}\r\n\t\tthis.calendar.appendChild(week);\r\n\t\t\r\n\t\tvar first = this.firstDay();\r\n\t\tvar numDays = this.daysInMonth();\t\t\t\r\n\t\tvar numWeeks = Math.ceil((first + numDays)/7);\r\n\t\t\r\n\t\tvar currDate = null;\r\n\t\tvar dayCount = 1;\r\n\t\tfor(var i=0;i<numWeeks;i++){\r\n\t\t\tweek = document.createElement(\"tr\");\r\n\t\t\tfor(var j=0; j<=6;j++){\r\n\t\t\t\tvar day = document.createElement(\"td\");\r\n\t\t\t\tif(\t(i===0 && first > j) ||\t\t\t\t\t\t\t\t\t\t\t\t\t\t//No imprime los días de la primera semana anteriores al día 1 del mes\r\n\t\t\t\t\t(i===numWeeks-1 && ((first+numDays)%7) > 0 && j >= ((first + numDays)%7))\t// No imprime los días de la última semana posteriores al último día del mes\r\n\t\t\t\t){\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\t\t\t\t\t\t\r\n\t\t\t\t\tday.appendChild(document.createTextNode(dayCount));\r\n\t\t\t\t\tday.id = \"datepicker_d_\"+dayCount;\r\n\t\t\t\t\t\r\n\t\t\t\t\tcurrDate = new Date(this.nuevaFecha.getTime());\r\n\t\t\t\t\tcurrDate.setDate(dayCount);\r\n\t\t\t\t\tif( this.dateInRange(currDate,'day') && !this.dateIsBlocked(currDate) ){\r\n\t\t\t\t\t\tday.className = \"orzk-dp_pickable\";\r\n\t\t\t\t\t\tday.onclick = function(){\r\n\t\t\t\t\t\t\tvar oldDaySelected = document.getElementById(\"datepicker_d_\"+dpInstance.daySelectedTxt.nodeValue);\r\n\t\t\t\t\t\t\tif(oldDaySelected != null){\r\n\t\t\t\t\t\t\t\toldDaySelected.className = oldDaySelected.className.replace(/\\borzk-dp_calendar_day_selected\\b/g,\"\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tdpInstance.nuevaFecha.setDate(this.id.substr(13));\r\n\t\t\t\t\t\t\tdpInstance.updateDisplay();\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tday.className = \"orzk-dp_not_pickable\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdayCount++;\r\n\t\t\t\t}\r\n\t\t\t\tweek.appendChild(day);\r\n\t\t\t}\r\n\t\t\tthis.calendar.appendChild(week);\r\n\t\t}\r\n\t\t\r\n\t\tthis.calendarContainer.appendChild(this.calendar);\r\n\t}\r\n\t\r\n\tprintMonthList (){\r\n\t\tvar dpInstance = this;\r\n\t\tthis.clearCalendarContainer();\r\n\t\t\r\n\t\tthis.monthList = document.createElement(\"table\");\r\n\t\tthis.monthList.className = \"orzk-dp_days\";\r\n\t\tthis.monthList.id = \"dp-month-list\";\r\n\t\tfor(var i = 0; i < 4;i++){\r\n\t\t\tvar row = document.createElement(\"tr\");\r\n\t\t\tfor(var j = 0; j < 3; j++){\r\n\t\t\t\tlet currMonth = i*3 + j;\r\n\t\t\t\tvar element = document.createElement(\"td\");\t\t\t\t\r\n\t\t\t\telement.appendChild(document.createTextNode(this.lang[this.language].monthShort[currMonth]));\r\n\t\t\t\tif(currMonth === this.nuevaFecha.getMonth()){\r\n\t\t\t\t\telement.className = \"orzk-dp_calendar_day_selected\";\r\n\t\t\t\t}\r\n\t\t\t\telement.id = \"datepicker_m_\"+currMonth;\r\n\t\t\t\tvar currDate = new Date(this.nuevaFecha.getTime());\r\n\t\t\t\tcurrDate.setMonth(currMonth);\r\n\t\t\t\t\r\n\t\t\t\tif(this.dateInRange(currDate,'month')){\r\n\t\t\t\t\telement.className += \" orzk-dp_pickable\";\r\n\t\t\t\t\telement.onclick = function(){\t\t\t\t\r\n\t\t\t\t\t\tdpInstance.nuevaFecha.setMonth(currMonth);\t\t\t\t\r\n\t\t\t\t\t\tdpInstance.updateDisplay();\r\n\t\t\t\t\t};\r\n\t\t\t\t}else{\r\n\t\t\t\t\telement.className = \"orzk-dp_not_pickable\";\r\n\t\t\t\t}\r\n\t\t\t\trow.appendChild(element);\r\n\t\t\t}\r\n\t\t\tthis.monthList.appendChild(row);\r\n\t\t}\r\n\t\t\r\n\t\tthis.calendarContainer.appendChild(this.monthList);\r\n\t}\r\n\t\r\n\tprintYearList (decade){\r\n\t\tvar dpInstance = this;\r\n\t\tthis.clearCalendarContainer();\r\n\t\t\r\n\t\tvar decades = Math.floor(this.nuevaFecha.getFullYear() / 20);\r\n\t\t// Removes the effect of rounding with Math.floor, that caused to show the next twenty years block when the year is multiple of 20.\r\n\t\tif(this.nuevaFecha.getFullYear() % 20 === 0){\r\n\t\t\tdecades--;\r\n\t\t}\r\n\t\tthis.decadeShift = this.decadeShift + decade;\r\n\t\t\r\n\t\tvar minYear = (decades + this.decadeShift) * 20 + 1;\r\n\t\tvar currYear = minYear;\t\t\r\n\t\t\r\n\t\tthis.decadeListContainer = document.createElement(\"div\");\r\n\t\tthis.decadeListContainer.className = \"orzk-dp_decade_list_container\";\r\n\t\tthis.decadeList = document.createElement(\"div\");\r\n\t\tthis.decadeList.className = \"orzk-dp_decade_list\";\r\n\t\tvar decadeListTxt = document.createTextNode(minYear + \" - \" + (minYear+19));\r\n\t\tthis.decadeList.appendChild(decadeListTxt);\r\n\t\t\r\n\t\tvar decadePrev = document.createElement(\"div\");\r\n\t\tdecadePrev.className = \"orzk-dp_arrow orzk-dp_left\";\t\r\n\t\tdecadePrev.id = \"dp_decade_prev\";\r\n\t\tdecadePrev.onclick = function() {\r\n\t\t\tdpInstance.printYearList(-1);\r\n\t\t};\t\r\n\t\t\r\n\t\tvar decadeNext = document.createElement(\"div\");\r\n\t\tdecadeNext.className = \"orzk-dp_arrow orzk-dp_right\";\t\r\n\t\tdecadeNext.id = \"dp_decade_next\";\t\t\r\n\t\tdecadeNext.onclick = function() {\r\n\t\t\tdpInstance.printYearList(1);\r\n\t\t};\r\n\t\tthis.decadeListContainer.appendChild(decadePrev);\r\n\t\tthis.decadeListContainer.appendChild(this.decadeList);\r\n\t\tthis.decadeListContainer.appendChild(decadeNext);\r\n\t\t\r\n\t\tthis.yearList = document.createElement(\"table\");\r\n\t\tthis.yearList.className = \"orzk-dp_days\";\r\n\t\tthis.yearList.id = \"dp-year-list\";\r\n\t\tfor(var i = 0; i < 5; i++){\r\n\t\t\tvar row = document.createElement(\"tr\");\r\n\t\t\tfor(var j=0; j<4;j++){\r\n\t\t\t\tvar element = document.createElement(\"td\");\r\n\t\t\t\telement.appendChild(document.createTextNode(currYear));\r\n\t\t\t\tvar tmp = new Date(this.nuevaFecha.getTime());\r\n\t\t\t\ttmp.setFullYear(currYear);\r\n\t\t\t\tif(this.dateInRange(tmp,\"year\")){\r\n\t\t\t\t\telement.className = \"orzk-dp_pickable\";\r\n\t\t\t\t\tif(currYear === this.nuevaFecha.getFullYear()){\r\n\t\t\t\t\t\telement.className += \" orzk-dp_calendar_day_selected\";\r\n\t\t\t\t\t}\t\t\t\t\r\n\t\t\t\t\telement.id = \"datepicker_y_\"+currYear;\r\n\t\t\t\t\telement.onclick = function(){\t\t\t\t\t\r\n\t\t\t\t\t\tdpInstance.nuevaFecha.setFullYear(this.id.substr(13));\r\n\t\t\t\t\t\tdpInstance.decadeShift = 0;\r\n\t\t\t\t\t\tdpInstance.updateDisplay();\r\n\t\t\t\t\t};\r\n\t\t\t\t}else{\r\n\t\t\t\t\telement.className += \" orzk-dp_not_pickable\";\r\n\t\t\t\t}\r\n\t\t\t\tcurrYear++;\r\n\t\t\t\trow.appendChild(element);\r\n\t\t\t}\r\n\t\t\tthis.yearList.appendChild(row);\r\n\t\t}\r\n\t\t\r\n\t\tthis.calendarContainer.appendChild(this.decadeListContainer);\r\n\t\tthis.calendarContainer.appendChild(this.yearList);\r\n\t\t\t\r\n\t}\r\n\r\n\r\n\tprintAnalogTime (type){\t\r\n\t\tvar dpInstance = this;\r\n\t\t\r\n\t\tvar pos = this.timeContainer.getBoundingClientRect();\t\t\r\n\t\tvar radius = 110;\r\n\t\tvar sradius = 70;\r\n\t\tvar centerX = (pos.right - pos.left)/2 - radius - 15;\r\n\t\tvar scenterX = (pos.right - pos.left)/2 - sradius - 15;\r\n\t\tvar angle = 360 / 12;\r\n\t\tvar selectedItem = null;\r\n\t\t\r\n\t\tvar pTop, pLeft;\r\n\t\t\r\n\t\t\r\n\t\tthis.clearTimeContainer();\t\r\n\t\tthis.hideClockHand(this.clockHand);\r\n\t\t\r\n\t\tif(type === \"hour\"){\t\t\t\r\n\t\t\tselectedItem = this.nuevaFecha.getHours();\r\n\t\t\tfor(var i = 0; i< 12; i++){\r\n\t\t\t\t// 12h\r\n\t\t\t\tvar h = document.createElement(\"div\");\r\n\t\t\t\th.className = \"orzk-dp_time_element\";\t\t\t\r\n\t\t\t\th.appendChild(document.createTextNode(i+1));\r\n\t\t\t\th.id = \"dp_hourelement_\"+(i+1);\r\n\t\t\t\tpTop = (10 + radius + -radius*Math.cos((i+1)*(angle/180)*Math.PI));\r\n\t\t\t\tpLeft = (centerX + radius + radius*Math.sin((i+1)*(angle/180)*Math.PI));\r\n\t\t\t\th.style.top = pTop+'px';\r\n\t\t\t\th.style.left = pLeft+'px';\r\n\t\t\t\t\r\n\t\t\t\tif(selectedItem === i+1){\r\n\t\t\t\t\th.className += \" orzk-dp_time_item_selected\";\r\n\t\t\t\t\tthis.drawClockHand(this.clockHandSelected,pLeft+15,pTop+15);\r\n\t\t\t\t}\r\n\t\t\t\th.onmouseover = function (e){\r\n\t\t\t\t\tvar pos = this.getBoundingClientRect();\r\n\t\t\t\t\tvar dims = dpInstance.timeContainer.getBoundingClientRect();\r\n\t\t\t\t\tvar x = (pos.left - dims.left) +((pos.right-pos.left)/2)   ;\r\n\t\t\t\t\tvar y = pos.top-dims.top + ((pos.bottom-pos.top)/2);\r\n\t\t\t\t\t\r\n\t\t\t\t\tdpInstance.drawClockHand(dpInstance.clockHand, x,y);\r\n\t\t\t\t\tvar tmpFecha = new Date(dpInstance.nuevaFecha.getTime());\t\t\t\t\t\r\n\t\t\t\t\ttmpFecha.setHours(this.id.substr(15));\t\t\t\t\r\n\t\t\t\t\tdpInstance.updateTime(tmpFecha);\r\n\t\t\t\t};\r\n\t\t\t\th.onmouseout = function(e){\r\n\t\t\t\t\tdpInstance.hideClockHand(dpInstance.clockHand);\r\n\t\t\t\t\tdpInstance.updateTime(dpInstance.nuevaFecha);\r\n\t\t\t\t};\r\n\t\t\t\th.onclick = function(){\r\n\t\t\t\t\tdpInstance.nuevaFecha.setHours(this.id.substr(15));\t\t\t\t\t\r\n\t\t\t\t\tif(dpInstance.timeFormat === 'hm' || dpInstance.timeFormat === 'hms'){\t\t\t\t\t\r\n\t\t\t\t\t\tdpInstance.timeWindow = \"minutes\";\t\t\t\t\r\n\t\t\t\t\t\tdpInstance.printAnalogTime(\"minutes\");\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tdpInstance.printAnalogTime(\"hour\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdpInstance.updateDisplay();\t\t\t\t\r\n\t\t\t\t};\r\n\t\t\t\tthis.timeContainer.appendChild(h);\r\n\t\t\t\t\r\n\t\t\t\t// 24h\r\n\t\t\t\th = document.createElement(\"div\");\r\n\t\t\t\th.className = \"orzk-dp_time_element\";\r\n\t\t\t\tvar value = i+13;\r\n\t\t\t\tif(value === 24)\r\n\t\t\t\t\tvalue = 0;\r\n\t\t\t\t\r\n\t\t\t\th.appendChild(document.createTextNode(this.padInteger(value,2)));\r\n\t\t\t\th.id = \"dp_hourelement_\"+(value);\r\n\t\t\t\tpTop = (50 + sradius + -sradius*Math.cos((i+1)*(angle/180)*Math.PI));\t\t\t\t\r\n\t\t\t\tpLeft = (scenterX + sradius + sradius*Math.sin((i+1)*(angle/180)*Math.PI));\r\n\t\t\t\th.style.top = pTop+'px';\r\n\t\t\t\th.style.left = pLeft+'px';\r\n\t\t\t\tif(selectedItem === value){\r\n\t\t\t\t\th.className += \" orzk-dp_time_item_selected\";\r\n\t\t\t\t\tthis.drawClockHand(this.clockHandSelected,pLeft+15,pTop+15);\r\n\t\t\t\t}\r\n\t\t\t\th.onmouseover = function (){\r\n\t\t\t\t\tvar pos = this.getBoundingClientRect();\r\n\t\t\t\t\tvar dims = dpInstance.timeContainer.getBoundingClientRect();\r\n\t\t\t\t\tvar x = (pos.left - dims.left) +((pos.right-pos.left)/2)   ;\r\n\t\t\t\t\tvar y = pos.top-dims.top + ((pos.bottom-pos.top)/2);\r\n\t\t\t\t\t\r\n\t\t\t\t\tdpInstance.drawClockHand(dpInstance.clockHand, x,y);\r\n\t\t\t\t\tvar tmpFecha = new Date(dpInstance.nuevaFecha.getTime());\t\t\t\t\t\r\n\t\t\t\t\ttmpFecha.setHours(this.id.substr(15));\t\t\t\t\r\n\t\t\t\t\tdpInstance.updateTime(tmpFecha);\r\n\t\t\t\t};\r\n\t\t\t\th.onmouseout = function(e){\r\n\t\t\t\t\tdpInstance.hideClockHand(dpInstance.clockHand);\r\n\t\t\t\t\tdpInstance.updateTime(dpInstance.nuevaFecha);\r\n\t\t\t\t};\r\n\t\t\t\th.onclick = function(){\r\n\t\t\t\t\tdpInstance.nuevaFecha.setHours(this.id.substr(15));\t\t\t\t\r\n\t\t\t\t\tif(dpInstance.timeFormat === 'hm' || dpInstance.timeFormat === 'hms'){\r\n\t\t\t\t\t\tdpInstance.timeWindow = \"minutes\";\t\t\t\t\r\n\t\t\t\t\t\tdpInstance.printAnalogTime(\"minutes\");\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tdpInstance.printAnalogTime(\"hour\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tdpInstance.updateDisplay();\r\n\t\t\t\t};\r\n\t\t\t\tthis.timeContainer.appendChild(h);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}else{\r\n\t\t\t\r\n\t\t\tif(type===\"minutes\"){\r\n\t\t\t\tselectedItem = this.nuevaFecha.getMinutes();\r\n\t\t\t}else if(type===\"seconds\"){\r\n\t\t\t\tselectedItem = this.nuevaFecha.getSeconds();\r\n\t\t\t}\t\t\t\r\n\t\t\t\r\n\t\t\tfor(var i = 0; i< 60; i++){\r\n\t\t\t\tangle = 360/60;\t\r\n\t\t\t\tvar e = document.createElement(\"div\");\r\n\t\t\t\te.className = \"orzk-dp_time_min_element\";\r\n\t\t\t\te.id = \"dp_minuteelement_\"+(i);\r\n\t\t\t\te.style.webkitTransform = 'rotate('+(angle*i)+'deg)'; \r\n\t\t\t\te.style.mozTransform    = 'rotate('+(angle*i)+'deg)'; \r\n\t\t\t\te.style.msTransform     = 'rotate('+(angle*i)+'deg)'; \r\n\t\t\t\te.style.oTransform      = 'rotate('+(angle*i)+'deg)'; \r\n\t\t\t\te.style.transform       = 'rotate('+(angle*i)+'deg)'; \r\n\t\t\t\t\r\n\t\t\t\tif(i%5 === 0){\r\n\t\t\t\t\tvar h = document.createElement(\"div\");\r\n\t\t\t\t\th.id = \"dp_minute_\"+(i);\r\n\t\t\t\t\th.className = \"orzk-dp_time_element\";\t\t\t\t\r\n\t\t\t\t\th.appendChild(document.createTextNode(this.padInteger(i,2)));\t\r\n\t\t\t\t\tpTop = (10 + radius + -radius*Math.cos((i)*(angle/180)*Math.PI));\t\t\t\t\r\n\t\t\t\t\tpLeft = (centerX + radius + radius*Math.sin((i)*(angle/180)*Math.PI));\r\n\t\t\t\t\tif(selectedItem === i){\r\n\t\t\t\t\t\th.className += \" orzk-dp_time_item_selected\";\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\th.style.top = pTop+'px';\r\n\t\t\t\t\th.style.left = pLeft+'px';\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.timeContainer.appendChild(h);\r\n\t\t\t\t}\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tpTop = (5 + radius + -radius*Math.cos((i)*(angle/180)*Math.PI));\t\t\t\t\r\n\t\t\t\tpLeft = (centerX + 10 + radius + radius*Math.sin((i)*(angle/180)*Math.PI));\r\n\t\t\t\tif(selectedItem === i){\t\t\t\t\r\n\t\t\t\t\tthis.drawClockHand(this.clockHandSelected,pLeft+5,pTop+20);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\te.style.top = pTop+'px';\r\n\t\t\t\te.style.left = pLeft+'px';\r\n\t\t\t\te.onmouseover = function (){\r\n\t\t\t\t\tvar pos = this.getBoundingClientRect();\r\n\t\t\t\t\tvar dims = dpInstance.timeContainer.getBoundingClientRect();\r\n\t\t\t\t\tvar x = (pos.left - dims.left) +((pos.right-pos.left)/2)   ;\r\n\t\t\t\t\tvar y = pos.top-dims.top + ((pos.bottom-pos.top)/2);\r\n\t\t\t\t\t\r\n\t\t\t\t\tdpInstance.drawClockHand(dpInstance.clockHand, x,y);\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar tmpFecha = new Date(dpInstance.nuevaFecha.getTime());\r\n\t\t\t\t\tif(type===\"minutes\"){\r\n\t\t\t\t\t\ttmpFecha.setMinutes(this.id.substr(17));\r\n\t\t\t\t\t}else if(type===\"seconds\"){\r\n\t\t\t\t\t\ttmpFecha.setSeconds(this.id.substr(17));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdpInstance.updateTime(tmpFecha);\r\n\t\t\t\t};\r\n\t\t\t\te.onmouseout = function(e){\r\n\t\t\t\t\tdpInstance.hideClockHand(dpInstance.clockHand);\t\r\n\t\t\t\t\tdpInstance.updateTime(dpInstance.nuevaFecha);\r\n\t\t\t\t};\r\n\t\t\t\te.onclick = function(){\r\n\t\t\t\t\tvar id = this.id.substr(17);\r\n\t\t\t\t\tif(dpInstance.timeFormat === 'hm'){\r\n\t\t\t\t\t\tdpInstance.nuevaFecha.setMinutes(id);\r\n\t\t\t\t\t\tdpInstance.timeWindow = \"hour\";\r\n\t\t\t\t\t\tdpInstance.printAnalogTime(\"hour\");\r\n\t\t\t\t\t}else if(dpInstance.timeFormat === 'hms'){\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tif(type===\"minutes\"){\r\n\t\t\t\t\t\t\tdpInstance.nuevaFecha.setMinutes(id);\r\n\t\t\t\t\t\t\tdpInstance.timeWindow = \"seconds\";\r\n\t\t\t\t\t\t\tdpInstance.printAnalogTime(\"seconds\");\r\n\t\t\t\t\t\t}else if(type===\"seconds\"){\r\n\t\t\t\t\t\t\tdpInstance.nuevaFecha.setSeconds(id);\r\n\t\t\t\t\t\t\tdpInstance.timeWindow = \"hour\";\r\n\t\t\t\t\t\t\tdpInstance.printAnalogTime(\"hour\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t\tdpInstance.updateDisplay();\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t};\r\n\t\t\t\tthis.timeMinutesContainer.appendChild(e);\r\n\t\t\t\tthis.timeContainer.appendChild(this.timeMinutesContainer);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdrawClockHand (line,x2,y2){\r\n\t\tvar dims = this.timeContainer.getBoundingClientRect();\r\n\t\t\r\n\t\tthis.analogClockSVG.setAttribute('width',dims.right - dims.left);\r\n\t\tthis.analogClockSVG.setAttribute('height',dims.bottom - dims.top);\t\r\n\t\t\r\n\t\tvar x1 = (dims.right - dims.left)/2;\r\n\t\tvar y1 = ((dims.bottom - dims.top)/2)+5;\r\n\t\t\r\n\t\tline.setAttribute('x1',x1);\r\n\t\tline.setAttribute('y1',y1);\r\n\t\tline.setAttribute('x2',x2);\r\n\t\tline.setAttribute('y2',y2);\r\n\t\tline.setAttribute('stroke','#8bb6cf');\r\n\t\tline.setAttribute('stroke-width', 4);\r\n\t}\r\n\r\n\thideClockHand (line){\r\n\t\tline.setAttribute('stroke-width',0);\r\n\t}\r\n\r\n\tclose (){\r\n\t\tthis.initialized = false;\r\n\t\tthis.contenedor.parentNode.removeChild(this.contenedor);\r\n\t}\r\n\t\r\n\tprintDate (){\t\r\n\t\tif(this.inputDate != null && this.showDate === true){\r\n\t\t\tthis.inputDate.value = this.getFullDateString();\r\n\t\t}else{\r\n\t\t}\r\n\t}\r\n\r\n\tgetFullDateString (){\t\r\n\t\tif(this.dpMode === 'date'){\r\n\t\t\treturn this.getDateString(this.fecha);\r\n\t\t}else if(this.dpMode === 'time'){\t\t\t\t\r\n\t\t\treturn this.getTimeString(this.fecha);\r\n\t\t}else{\r\n\t\t\treturn (this.getDateString(this.fecha)+\" \"+this.getTimeString(this.fecha));\t\t\t\t\t\t\t\t\t\r\n\t\t}\t\t\r\n\t}\r\n\t\r\n\tshowCalendar (){\t\r\n\t\tif((this.dpMode === \"datetime\" && this.dpCurrWindow === \"time\") || this.dpMode === \"date\"){\r\n\t\t\tif(this.dpMode === \"datetime\"){\r\n\t\t\t\tthis.timeContainer.className += \" orzk-dp_hide\";\r\n\t\t\t\tthis.analogClockSVG.setAttribute('class','orzk-dp_clock_svg orzk-dp_hide');\r\n\t\t\t\tthis.btnHour.className = this.btnHour.className.replace(/\\borzk-dp_dayhour_button_selected\\b/,\"\");\r\n\t\t\t\tthis.btnCalendar.className += \" orzk-dp_dayhour_button_selected\";\r\n\t\t\t}\r\n\t\t\tthis.calendarContainer.className = this.calendarContainer.className.replace(/\\borzk-dp_hide\\b/,\"\");\r\n\t\t\tthis.dpCurrWindow = \"calendar\";\r\n\t\t\t//this.updateTime(this.nuevaFecha);\r\n\t\t\tthis.updateDisplay();\r\n\t\t}\r\n\t}\r\n\r\n\tshowTime (){\r\n\t\tif((this.dpMode === \"datetime\" && this.dpCurrWindow === \"calendar\") || (this.dpMode === \"time\")){\r\n\t\t\tif(this.dpMode === \"datetime\"){\r\n\t\t\t\tthis.calendarContainer.className += \" orzk-dp_hide\";\r\n\t\t\t\tthis.btnCalendar.className = this.btnCalendar.className.replace(/\\borzk-dp_dayhour_button_selected\\b/,\"\");\r\n\t\t\t\tthis.btnHour.className += \" orzk-dp_dayhour_button_selected\";\r\n\t\t\t}\r\n\t\t\tthis.timeContainer.className = this.timeContainer.className.replace(/\\borzk-dp_hide\\b/,\"\");\t\t\r\n\t\t\tthis.analogClockSVG.setAttribute('class','orzk-dp_clock_svg');\r\n\t\t\tif(this.dpMode === 'datetime'){\r\n\t\t\t\tthis.timeWindow = \"hour\";\r\n\t\t\t\tthis.printAnalogTime(\"hour\");\r\n\t\t\t}else{\r\n\t\t\t\tthis.printAnalogTime(this.timeWindow);\r\n\t\t\t}\r\n\t\t\tthis.dpCurrWindow = \"time\";\r\n\t\t\tthis.updateTime(this.nuevaFecha);\r\n\t\t}\r\n\t}\r\n\r\n\tgetDateString (d){\r\n\t\tvar sep = this.dateFormat.substr(3);\r\n\t\tvar year = d.getFullYear();\r\n\t\tvar month = this.padInteger(d.getMonth()+1,2);\r\n\t\tvar day = this.padInteger(d.getDate(),2);\r\n\t\t\r\n\t\tswitch(this.dateFormat.substr(0,3)){\r\n\t\t\tcase \"ymd\":\r\n\t\t\t\treturn year+sep+month+sep+day;\r\n\t\t\tcase \"ydm\":\r\n\t\t\t\treturn year+sep+day+sep+month;\r\n\t\t\tcase \"mdy\":\r\n\t\t\t\treturn month+sep+day+sep+year;\r\n\t\t\tcase \"dmy\":\r\n\t\t\t\treturn day+sep+month+sep+year;\r\n\t\t\tdefault:\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t}\t\r\n\r\n\tgetTimeString (d,format=false){\r\n\t\tvar time = '';\r\n\t\tswitch (this.timeFormat.length){\t\t\r\n\t\t\tcase 3:\r\n\t\t\t\tif(format===true && this.dpCurrWindow === \"time\" && this.timeWindow===\"seconds\"){\r\n\t\t\t\t\ttime = ':<span class=\"orzk-dp_time_display_selected\">'+this.padInteger(d.getSeconds(),2)+'</span>';\r\n\t\t\t\t}else{\t\t\t\t\r\n\t\t\t\t\ttime = ':'+this.padInteger(d.getSeconds(),2);\r\n\t\t\t\t}\r\n\t\t\tcase 2:\r\n\t\t\t\tif(format===true && this.dpCurrWindow === \"time\" && this.timeWindow===\"minutes\"){\r\n\t\t\t\t\ttime = ':<span class=\"orzk-dp_time_display_selected\">'+this.padInteger(d.getMinutes(),2)+'</span>' + time;\r\n\t\t\t\t}else{\t\t\r\n\t\t\t\t\ttime = ':'+this.padInteger(d.getMinutes(),2) + time;\r\n\t\t\t\t}\r\n\t\t\tcase 1:\r\n\t\t\t\tif(this.timeFormat === 'h'){\r\n\t\t\t\t\ttime += \":00\";\r\n\t\t\t\t}\r\n\t\t\t\tif(format===true && this.dpCurrWindow === \"time\" && this.timeWindow===\"hour\"){\r\n\t\t\t\t\ttime = '<span class=\"orzk-dp_time_display_selected\">'+this.padInteger(d.getHours(),2)+'</span>'\t+ time;\r\n\t\t\t\t}else{\t\t\r\n\t\t\t\t\ttime = this.padInteger(d.getHours(),2) + time;\r\n\t\t\t\t}\r\n\t\t}\r\n\t\treturn time;\r\n\t}\r\n\r\n\tupdateTime (d){\t\r\n\t\tthis.timeTxt.innerHTML = this.getTimeString(d,true);\t\r\n\t}\r\n\r\n\tgetDate (){\r\n\t\tif(this.fecha !== null){\r\n\t\t\treturn new Date(this.fecha.getTime());\r\n\t\t}else{\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tcreateDate (d){\r\n\t\tif(this.isDate(d)){\r\n\t\t\treturn d;\r\n\t\t}else{\t\t\r\n\t\t\tif(typeof(d) === 'string'){\r\n\t\t\t\tvar sep = this.dateFormat.substr(3);\t\t\t\r\n\t\t\t\tvar fecha = [];\r\n\t\t\t\tvar hora = [];\r\n\t\t\t\t\r\n\t\t\t\tif(this.dpMode === 'date'){\r\n\t\t\t\t\tfecha = d.split(sep);\r\n\t\t\t\t\tif(fecha.length !== 3){\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\thora = [0,0,0,0];\r\n\t\t\t\t}else if(this.dpMode === 'datetime'){\r\n\t\t\t\t\tvar fh = d.split(\" \");\r\n\t\t\t\t\tif(fh.length > 2){\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfecha = fh[0].split(sep);\r\n\t\t\t\t\tif(fh.length === 2){\r\n\t\t\t\t\t\thora = fh[1].split(\":\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(fecha.length !== 3){\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(var i = 0; i< 4; i++){\r\n\t\t\t\t\t\tif(typeof(hora[i]) == \"undefined\" || this.timeFormat.length <= i){\r\n\t\t\t\t\t\t\thora.push(0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tfecha = new Date();\r\n\t\t\t\t\thora = d.split(\":\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor(var i = 0; i< 4; i++){\r\n\t\t\t\t\t\tif(typeof(hora[i]) == \"undefined\" || this.timeFormat.length <= i){\r\n\t\t\t\t\t\t\thora.push(0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfecha.setHours(hora[0],hora[1],hora[2],hora[3]);\t\t\t\t\r\n\t\t\t\t\treturn fecha;\r\n\t\t\t\t\t\r\n\t\t\t\t}\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tswitch(this.dateFormat.substr(0,3)){\r\n\t\t\t\t\tcase \"ymd\":\t\t\t\t\t\r\n\t\t\t\t\t\treturn new Date(fecha[0],fecha[1]-1,fecha[2],hora[0],hora[1],hora[2],hora[3]);\r\n\t\t\t\t\tcase \"ydm\":\r\n\t\t\t\t\t\treturn new Date(fecha[0],fecha[2]-1,fecha[1],hora[0],hora[1],hora[2],hora[3]);\r\n\t\t\t\t\tcase \"dmy\":\t\t\t\t\t\r\n\t\t\t\t\t\treturn new Date(fecha[2],fecha[1]-1,fecha[0],hora[0],hora[1],hora[2],hora[3]);\r\n\t\t\t\t\tcase \"mdy\":\t\t\t\t\t\r\n\t\t\t\t\t\treturn new Date(fecha[2],fecha[0]-1,fecha[1],hora[0],hora[1],hora[2],hora[3]);\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsetStartDate (){\r\n\t\tvar result = new Date();\r\n\t\t\r\n\t\tif(this.inputDate !== null){\t\t\t\r\n\t\t\tif(this.inputDate.value.length > 0){\r\n\t\t\t\tvar result = this.createDate(this.inputDate.value);\t\t\t\t\r\n\t\t\t\tif(result !== false){\r\n\t\t\t\t\tif(!this.isDate(result)){\r\n\t\t\t\t\t\tresult = new Date();\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.error.push(this.lang[this.language].errDateFormat);\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\t\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\r\n\tsetDate (d){\r\n\t\tif(this.isDate(d)){\r\n\t\t\tthis.fecha = new Date(d.getTime());\r\n\t\t\treturn true;\r\n\t\t}else{\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tonSubmit (){\r\n\t\tthis.printDate();\r\n\t}\r\n\r\n\tpadInteger (number,max){\r\n\t\tif(number < Math.pow(10,(max-1))){\r\n\t\t\tvar z = '';\r\n\t\t\tfor(var i = 0;i< max; i++)\r\n\t\t\t\tz += '0';\r\n\t\t\tnumber = (z + number).slice(max*-1);\r\n\t\t}\r\n\t\treturn number;\r\n\t}\r\n\r\n\trad2deg (x){\r\n\t\treturn x * (180/Math.PI);\r\n\t}\r\n\r\n\tdeg2rad (x){\r\n\t\treturn x * (Math.PI/180);\r\n\t};\r\n\r\n\r\n\t// Checks if a date object contains is a valid date\r\n\tisDate (date) {\r\n\t\treturn date && Object.prototype.toString.call(date) === \"[object Date]\" && !isNaN(date);\r\n\t};\r\n\r\n\t// Checks if a date is allowed comparing it with the min and max dates, and the restricted dates list\r\n\tdateInRange (date,type){\r\n\t\t\r\n\t\tif(type === \"year\"){\t\t\t\r\n\t\t\tif(\t(this.minDate == null || (this.minDate.getFullYear() <= date.getFullYear()) ) &&\r\n\t\t\t\t(this.maxDate == null || (this.maxDate.getFullYear() >= date.getFullYear()) ) ){\t\t\t\t\r\n\t\t\t\t\treturn true;\r\n\t\t\t}else{\t\t\t\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tif(type === 'month'){\t\t\r\n\t\t\t\r\n\t\t\tvar tmpdate = new Date(date.getFullYear(),date.getMonth());\r\n\t\t\tvar tmpmindate = null;\r\n\t\t\tvar tmpmaxdate = null;\r\n\t\t\t\r\n\t\t\tif(this.minDate !== null)\t\t\r\n\t\t\t\ttmpmindate = new Date(this.minDate.getFullYear(),this.minDate.getMonth());\r\n\t\t\t\r\n\t\t\tif(this.maxDate !== null)\r\n\t\t\t\ttmpmaxdate = new Date(this.maxDate.getFullYear(),this.maxDate.getMonth());\r\n\t\t\t\r\n\t\t\tif( (tmpmindate === null || (tmpdate >= tmpmindate)) &&\r\n\t\t\t\t(tmpmaxdate === null || (tmpdate <= tmpmaxdate)) )\r\n\t\t\t{\r\n\t\t\t\treturn true;\r\n\t\t\t}else{\r\n\t\t\t\treturn false;\r\n\t\t\t}\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\tif(type === 'day'){\r\n\t\t\tif( (this.minDate == null || (this.minDate != null && date >= this.minDate)) && \r\n\t\t\t\t(this.maxDate == null || (this.maxDate != null && date <= this.maxDate)) )\r\n\t\t\t{\t\t\t\r\n\t\t\t\treturn true;\r\n\t\t\t}else{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tdateIsBlocked (date){\r\n\t\t// Checks if the date is one of the blocked days\r\n\t\tif(this.blockdays.length > 0 && this.blockdays.indexOf(date.getDay()) > -1){\r\n\t\t\treturn true;\r\n\t\t}\t\r\n\t\t\r\n\t\tvar tmpdate = new Date(date.getTime());\r\n\t\ttmpdate.setHours(0,0,0,0);\r\n\t\t\r\n\t\t// Checks if the date is in the list of blocked dates\r\n\t\tfor(var i = 0; i< this.blockDates.length; i++){\r\n\t\t\tif(this.blockDates[i].length === 1){\t\t\t\r\n\t\t\t\tvar tmp = this.blockDates[i][0];\r\n\t\t\t\tif (tmp.getFullYear() === date.getFullYear() &&\r\n\t\t\t\t\ttmp.getMonth() === date.getMonth() &&\r\n\t\t\t\t\ttmp.getDate() === date.getDate()){\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t\r\n\t\t\t\tif(tmpdate.getTime() >= this.blockDates[i][0].getTime() && (tmpdate.getTime() <= this.blockDates[i][1].getTime())){\t\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\n/* Exports public methods for Google Closure Compiler */\r\n/*\r\nwindow['Datepicker'] = Datepicker;\r\nDatepicker.prototype['show'] = Datepicker.prototype.show;\r\nDatepicker.prototype['reset'] = Datepicker.prototype.reset;\r\nDatepicker.prototype['close'] = Datepicker.prototype.close;\r\nDatepicker.prototype['setOptions'] = Datepicker.prototype.setOptions;\r\nDatepicker.prototype['getDate']\t= Datepicker.prototype.getDate;\r\nDatepicker.prototype['setDate']\t= Datepicker.prototype.setDate;\t\r\nDatepicker.prototype['setStartDate']\t= Datepicker.prototype.setStartDate;\t\r\nDatepicker.prototype['printDate'] =\tDatepicker.prototype.printDate;\r\nDatepicker.prototype['onSubmit'] = Datepicker.prototype.onSubmit;\r\nDatepicker.prototype['getFullDateString'] = Datepicker.prototype.getFullDateString;\r\nDatepicker.prototype['isDate'] = Datepicker.prototype.isDate;*/",["255","256"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\infrastructure\\repositories\\browser\\handlers\\worklogs.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\infrastructure\\repositories\\browser\\handlers\\jobs.ts",["257","258","259"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\application\\dtos\\dbToApiDto.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\infrastructure\\repositories\\browser\\browserdb.ts",["260","261","262","263"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\worklog\\worklog-sequence.component.tsx",["264","265","266","267","268","269","270"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\job\\job-new.component.tsx",["271","272","273","274","275"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\worklog\\worklog-new.component.tsx",["276","277","278","279","280","281","282","283","284"]," import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { color, common } from '../../../styles/theme';\r\nimport { Worklog } from '../../../domain/worklog'\r\nimport { addWorklog } from '../../../application/addWorklog'\r\nimport { updateWorklog } from '../../../application/updateWorklog'\r\nimport { getWorklog } from '../../../application/getWorklog'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport { FaCheck, FaTimes} from 'react-icons/fa'\r\nimport { Spinner } from '../common/spinner'\r\nimport { BlockContainer, BlockHeaderComponent} from '../common/block'\r\nimport { SyncStateContext} from '../../../application/contexts/dbSyncContext'\r\n\r\nimport { FormBuilder } from '../common/form/form'\r\n\r\nimport  {Datepicker}  from '../../../../lib/orzkDatepicker/datepicker'\r\nimport '../../../../lib/orzkDatepicker/datepicker.css'\r\nimport { isValidDateTime, dateToFormattedDate, formattedDateToISOString } from '../../../../lib/date.utils'\r\n\r\n\r\nconst emptyWorklog: Worklog = {\r\n    id: '',\r\n    title: '',\r\n    createdDate: '',    \r\n    startDatetime: '',\r\n    endDatetime: '',\r\n    tags: []\r\n}\r\n\r\n\r\nexport interface WorklogProps {\r\n    worklogid: string,\r\n}\r\n\r\nexport const WorklogNewComponent = (props) => {\r\n    let { worklogid } = useParams<WorklogProps>()\r\n    const syncCtx = React.useContext(SyncStateContext)\r\n    const {setSync} = syncCtx\r\n\r\n    const [submitSuccess, setSubmitSuccess] = React.useState(null)\r\n    const [submitError, setSubmitError] = React.useState<Error | null>(null)\r\n    const [mode, setMode] = React.useState(props.mode || 'new')\r\n    const [worklog, setWorklog] = React.useState<Worklog | null>(emptyWorklog)\r\n    const [error, setError] = React.useState<Error | null>(null)\r\n    const [loading, setLoading] = React.useState<boolean>(false)\r\n    const [title, setTitle] = React.useState<string>('Nuevo parte')\r\n    \r\n    let formItems = \r\n         [\r\n            {\r\n                type: 'text',\r\n                id: 'title',\r\n                label: 'Título'\r\n            },\r\n            {\r\n                type: 'date2',\r\n                id: 'startDatetime',\r\n                label: 'Fecha y hora de inicio'\r\n            },\r\n            {\r\n                type: 'buttons',\r\n                buttons: [\r\n                    {        \r\n                        id: 'submitBtn',\r\n                        type: 'submit',\r\n                        icon: FaCheck,\r\n                        label: 'Guardar',\r\n                        className: 'form-button-submit button-icon'\r\n                    },\r\n                    {\r\n                        id: 'cancelBtn',\r\n                        type: 'link',\r\n                        route: '/worklogs',\r\n                        icon: FaTimes,\r\n                        label: 'Cancelar',\r\n                        className: 'form-button-cancel button-icon'\r\n                    }\r\n                ]\r\n            }            \r\n         ]\r\n    \r\n    const validate = (values) => {\r\n        const errors : Partial<Worklog> = {}\r\n        if(!values.title){\r\n            errors.title = 'Campo obligatorio'\r\n        }   \r\n        \r\n        if(!values.startDatetime){\r\n            errors.startDatetime = 'Campo obligatorio'\r\n        }else if(!isValidDateTime(values.startDatetime)){\r\n            errors.startDatetime = 'Formato de fecha y hora no válido'\r\n        }\r\n       \r\n        return errors\r\n    }\r\n\r\n    const onSubmit = (values: Worklog, helpers) => {\r\n                        \r\n        setLoading(true)\r\n            if(mode === 'new'){\r\n                addWorklog(values)\r\n                .then(                            \r\n                    (result) => {\r\n                        if(!result.hasError){\r\n                            setSync({sync: false})\r\n                            setSubmitSuccess(result.data.worklog);                                        \r\n                            setSubmitError(null);\r\n                            helpers.resetForm({})\r\n                        }else{\r\n\r\n                            setSubmitSuccess(null);\r\n                            setSubmitError(new Error(result.error));                                      \r\n                        }\r\n                        helpers.setSubmitting(false); \r\n                        setLoading(false)\r\n                    },\r\n                    (error) => {\r\n                        console.log(error)\r\n                        helpers.setSubmitting(false);\r\n                        setSubmitSuccess(null);\r\n                        setSubmitError(error);\r\n                        setLoading(false)\r\n                    }\r\n                )\r\n            }else if(mode === 'edit'){\r\n                updateWorklog(values)\r\n                .then(                            \r\n                    (result) => {\r\n                        if(!result.hasError){              \r\n                            setSync({sync: false})                          \r\n                            setSubmitSuccess(result.data.worklog); \r\n                            setWorklog(null)                                     \r\n                            setWorklog(result.data.worklog)                                        \r\n                            setSubmitError(null);\r\n                        }else{\r\n                            setSubmitSuccess(null);\r\n                            setSubmitError(new Error(result.error));                                      \r\n                        }\r\n                        helpers.setSubmitting(false); \r\n                        setLoading(false)\r\n                    },\r\n                    (error) => {\r\n                        console.log(error)\r\n                        helpers.setSubmitting(false);\r\n                        setSubmitSuccess(null);\r\n                        setSubmitError(error);\r\n                        setLoading(false)\r\n                    }\r\n                )\r\n            }      \r\n    }\r\n\r\n    React.useEffect(()=> {\r\n        if(mode === 'edit'){\r\n            setTitle('Editar parte')\r\n        } else {\r\n            setTitle('Nuevo parte')\r\n        }\r\n    },[mode])\r\n\r\n    React.useEffect(()=> {          \r\n        let cancelled = false    \r\n        if(worklogid){       \r\n            setLoading(true)\r\n            getWorklog(worklogid)\r\n            .then(\r\n                (result) => { \r\n                    if(!cancelled){ \r\n                        if(result.hasError){\r\n                            setError(new Error(result.error))\r\n                            setWorklog(null)\r\n                        }else{\r\n                            if(mode === 'edit'){                      \r\n                                setWorklog(result.data.worklog) \r\n                            }else{                                \r\n                                setWorklog(emptyWorklog)\r\n                            }\r\n                            setError(null)\r\n                            setSubmitError(null)\r\n                        }\r\n                    \r\n                        setLoading(false) \r\n                    }\r\n                },\r\n                (error) => {\r\n                    console.log(\"error\",error)\r\n                    setSubmitSuccess(null)\r\n                    setSubmitError(null)\r\n                    setError(error)\r\n                    setWorklog(null)\r\n                    setLoading(false)\r\n                }\r\n            )        \r\n        }else{\r\n            setWorklog(emptyWorklog)\r\n        }  \r\n        return () => cancelled = true    \r\n    },[])\r\n\r\n    return (        \r\n        <BlockContainer> \r\n            <BlockHeaderComponent \r\n                title={title}\r\n            />  \r\n            {loading ? <Spinner /> : ''}            \r\n           \r\n            {submitSuccess &&                \r\n                <div aria-label='success-message' className='message-success'>                    \r\n                    El parte <Link to={'/worklogs/'+ submitSuccess.id}>'{submitSuccess.title}'</Link> ha sido {mode === 'new' ? 'creado':'editado'} con éxito.\r\n                </div>  \r\n            }\r\n\r\n            {submitError &&\r\n                <div aria-label='error-message' className='message-error'>{submitError.message}</div>\r\n            }\r\n            \r\n            {worklog &&\r\n                <FormBuilder \r\n                    key = \"newWorklogForm\"\r\n                    formView = \"form\"\r\n                    formItems = {formItems}\r\n                    initValues = {worklog}\r\n                    validation = {validate}\r\n                    onSubmit = {onSubmit}\r\n            />\r\n            }\r\n        </BlockContainer>\r\n    )\r\n}","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\index.tsx",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\styles\\globalStyles.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\infrastructure\\repositories\\browser\\browser.js",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\styles\\theme.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\application\\taskerRepository.tsx",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\views\\setup-app.component.tsx",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\views\\tasks.view.component.tsx",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\infrastructure\\repositories\\browser\\handlers\\database.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\exportDatabase.ts",[],["285","286"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\loaddb.component.tsx",["287","288","289","290"],"import React from 'react'\r\nimport styled from 'styled-components'\r\nimport '../../App.css';\r\nimport { font, color } from '../../styles/theme';\r\nimport { Spinner } from '../components/common/spinner'\r\nimport { BlockContainer, BlockHeaderComponent} from '../components/common/block'\r\nimport { FormBuilder } from '../components/common/form/form'\r\nimport { FaCheck, FaArrowLeft} from 'react-icons/fa'\r\nimport { importDb, importForm } from '../../application/importDatabase'\r\nimport { newDb } from '../../application/newDatabase'\r\nimport { SyncStateContext } from '../../application/contexts/dbSyncContext'\r\n\r\nconst SetupButtons = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 1rem;\r\n    padding: 1.5rem;\r\n`\r\nconst Button = styled.button`\r\n    padding: 1rem;\r\n    justify-content: center;\r\n    background-color: ${color.lightBlue};\r\n    color: ${color.white};\r\n    min-width: 30%;\r\n`\r\nexport const LoadDB = () => {\r\n    const syncCtx = React.useContext(SyncStateContext)\r\n    const {setSync} = syncCtx\r\n\r\n    const [title, setTitle] = React.useState<string>('Base de datos')\r\n    const [error, setError] = React.useState<Error | null>(null)\r\n    const [loading, setLoading] = React.useState<boolean>(false)\r\n    const [submitSuccess, setSubmitSuccess] = React.useState<boolean>(false)\r\n    const [submitError, setSubmitError] = React.useState<Error | null>(null)\r\n    const [setupView, setSetupView] = React.useState<string>('select')\r\n\r\n    const renderView = (): string => {\r\n        if(setupView === 'newDB'){\r\n            return 'newDB'\r\n        }else if(setupView === 'importDB'){\r\n            return 'importDB'\r\n        }else{\r\n            return 'select'\r\n        }\r\n    } \r\n    \r\n    const backButton = () => {\r\n        setSetupView('select')\r\n    }\r\n\r\n    const newEmptyDatabase = () => {\r\n        setLoading(true)\r\n        newDb().then(\r\n            result => {\r\n                setLoading(false)\r\n                if(result.hasError){\r\n                    setSubmitError(error)                    \r\n                }else{\r\n                    setSubmitSuccess(true)\r\n                    setSync({existsDb: true})\r\n                    \r\n                }                \r\n            },\r\n            error => {\r\n                setSubmitError(error)\r\n                setLoading(false)\r\n            }\r\n        )\r\n    }\r\n    let formItems = \r\n         [            \r\n            {\r\n                type: 'file',\r\n                id: 'dbfile',\r\n                label: 'Importar database'\r\n            },            \r\n            {\r\n                type: 'buttons',\r\n                buttons: [\r\n                    {        \r\n                        id: 'submitBtn',\r\n                        type: 'submit',\r\n                        icon: FaCheck,\r\n                        label: 'Guardar',\r\n                        className: 'form-button-submit button-icon'\r\n                    },\r\n                    {        \r\n                        id: 'cancelBtn',\r\n                        type: 'button',\r\n                        icon: FaArrowLeft,\r\n                        label: 'Volver',\r\n                        onClick: backButton,\r\n                        className: 'button-icon'\r\n                    }\r\n                ]\r\n            }            \r\n         ]\r\n\r\n    let initialValues = {dbfile: null}\r\n\r\n    \r\n    const validate = (values: Partial<importForm>) => {\r\n        const errors: any = {}\r\n        if(!values.dbfile){\r\n            errors.dbfile = 'Debes seleccionar un archivo'\r\n        }\r\n       \r\n        return errors\r\n    }\r\n\r\n    const onSubmit = (values: importForm) => {\r\n        setLoading(true)\r\n        importDb(values).then(\r\n            result => {\r\n                setLoading(false)\r\n                if(result.hasError){\r\n                    setSubmitError(error)\r\n                }else{\r\n                    setSubmitSuccess(true)\r\n                    setSync({existsDb: true})\r\n                }                \r\n            },\r\n            error => {\r\n                setSubmitError(error)\r\n                setLoading(false)\r\n            }\r\n        )\r\n    }\r\n    return (\r\n        <>            \r\n            <BlockContainer> \r\n            <BlockHeaderComponent \r\n                title=\"Crear base de datos\"\r\n            />  \r\n            {loading ? <Spinner /> : ''}            \r\n           \r\n            {submitSuccess &&                \r\n                <div aria-label='success-message' className='message-success'>                    \r\n                    La base de datos se ha importado correctamente\r\n                </div>  \r\n            }\r\n            {submitError &&\r\n                <div aria-label='error-message' className='message-error'>{submitError.message}</div>\r\n            }\r\n            \r\n            {renderView() === 'select' &&\r\n                <SetupButtons>\r\n                    <Button onClick={newEmptyDatabase}>Nueva base de datos</Button>\r\n                    <Button onClick={() => {setSetupView('importDB')}}>Importar base de datos</Button>\r\n                </SetupButtons>\r\n                \r\n            }\r\n\r\n            {renderView() === 'importDB' &&\r\n                <FormBuilder \r\n                    key = \"setupForm\"\r\n                    formView = \"form\"\r\n                    formItems = {formItems}\r\n                    initValues = {initialValues}\r\n                    validation = {validate}\r\n                    onSubmit = {onSubmit}\r\n                />\r\n            }\r\n            \r\n        </BlockContainer>\r\n        </>\r\n    )\r\n}","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\worklog\\worklog-detail.component.tsx",["291","292","293","294","295","296","297","298"],"import React, { Children } from 'react'\r\nimport styled from 'styled-components'\r\nimport { color, common } from '../../../styles/theme'\r\nimport { useParams} from 'react-router-dom'\r\nimport { Worklog, WorklogObject } from '../../../domain/worklog'\r\nimport { getWorklog } from '../../../application/getWorklog'\r\nimport { deleteWorklog } from '../../../application/deleteWorklog'\r\nimport { Spinner } from '../common/spinner'\r\nimport { BlockActions } from '../common/block-actions'\r\nimport { FaEdit, FaTrashAlt, FaPlus } from 'react-icons/fa'\r\nimport { Modal } from '../common/modal'\r\nimport { Link } from 'react-router-dom'\r\nimport { BlockContainer, BlockHeaderComponent } from '../common/block'\r\nimport { WorklogSequence } from './worklog-sequence.component'\r\nimport { SyncStateContext} from '../../../application/contexts/dbSyncContext'\r\nimport { elapsedTime, formatElapsedTime, ISOStringToFormatedDate } from '../../../../lib/date.utils'\r\nconst WorklogDetailContainer = styled.ul`\r\n`;\r\nconst WorklogDetailKey = styled.div`\r\n    font-weight: bold;\r\n    color: ${color.black};\r\n    flex-basis: 10rem;\r\n`;\r\nconst WorklogDetailValue = styled.div`\r\n    color: ${color.black}\r\n`;\r\n\r\nconst WorklogDetailItem = styled.li`\r\n    display: flex;\r\n    flex-direction: vertical;\r\n    margin: 1rem;\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n    background-color: ${color.lightRed};\r\n    padding: 1rem;\r\n    text-align: center;\r\n    color: ${color.white};\r\n    margin: 0.5rem;\r\n`;\r\n\r\nconst WorklogChildrenContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.5rem;\r\n\r\n    & a{\r\n        display: inline-flex;\r\n        background-color: ${color.orange};\r\n        ${common.roundedCorners()};\r\n        padding: 0.5rem;\r\n    }\r\n\r\n    & a:hover {\r\n        background-color: ${color.lightOrange};\r\n    }    \r\n`\r\n\r\nconst WorklogTagsContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 0.5rem;\r\n\r\n    & div{\r\n        display: inline-flex;\r\n        background-color: rgba(0,0,0,0.7);\r\n        color: ${color.white};        \r\n        ${common.roundedCorners()};\r\n        padding: 0.5rem;\r\n    }\r\n`\r\n\r\nexport interface WorklogProps {\r\n    worklogid: string,\r\n}\r\nexport const WorklogDetailComponent = (props) => {\r\n    let { worklogid } = useParams<WorklogProps>()\r\n    const syncCtx = React.useContext(SyncStateContext)\r\n    const {setSync} = syncCtx\r\n\r\n    const [worklog, setWorklog] = React.useState<WorklogObject | null>(null)        \r\n    const [error, setError] = React.useState<Error | null>(null)\r\n    const [deleteSuccess, setDeleteSuccess] = React.useState<string | null>(null)\r\n    const [loading, setLoading] = React.useState<boolean>(false)\r\n    const [actions, setActions] = React.useState<Array<any>>([])\r\n    const [isOpened, setOpened] = React.useState(false)\r\n    const [confirmedDelete, setConfirmedDelete ] = React.useState<boolean>(false)\r\n    \r\n    const confirmDelete = () =>{\r\n        openModal()        \r\n    }\r\n    const handleDelete = () => {\r\n        setOpened(false)\r\n        setLoading(true)\r\n        setConfirmedDelete(true)   \r\n    }\r\n\r\n    const childHandler = () => {\r\n\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        let cancelled = false\r\n        if(confirmedDelete){\r\n            deleteWorklog(worklogid)\r\n            .then(\r\n                result => {\r\n                    if(!cancelled){\r\n                        if(!result.hasError){\r\n                            setSync({sync: false})\r\n                            setDeleteSuccess('El parte se ha eliminado con éxito')\r\n                        }else{\r\n                            setError(new Error('Ha ocurrido un error al eliminar el parte.'))\r\n                        }\r\n                        setLoading(false)\r\n                    }\r\n                },\r\n                error => {\r\n                    console.log(\"Error: \", error)\r\n                    setError(new Error('Ha ocurrido un error al eliminar el parte.'))\r\n                    setLoading(false)\r\n                }\r\n            )\r\n        }\r\n\r\n        return () => cancelled = true;\r\n    },[confirmedDelete])\r\n\r\n    const closeModal = () => {  setOpened(false)}\r\n    const openModal = () => { setOpened(true)}\r\n\r\n    let actionItems = [\r\n        {\r\n            icon: FaEdit,\r\n            text: 'Editar',\r\n            route: `/worklogs/edit/${worklogid}`,\r\n            type: 'link'\r\n        },\r\n        {\r\n            icon: FaTrashAlt,\r\n            text: 'Borrar',\r\n            type: 'button',\r\n            handler: confirmDelete\r\n        },\r\n        {\r\n            icon: FaPlus,\r\n            text: 'Añadir trabajo',\r\n            route: `/worklog/new/${worklogid}`,\r\n            type: 'link'\r\n        }\r\n    ]\r\n\r\n    React.useEffect(() => {\r\n        let cancelled = false;\r\n        setActions(actionItems)\r\n        setLoading(true)\r\n        getWorklog(worklogid)\r\n            .then(\r\n                (result) => {\r\n                    if(!cancelled){\r\n                        if(result.hasError){\r\n                            setError(new Error(result.error))\r\n                            setWorklog(null)\r\n                        }else{\r\n                            setWorklog(result.data) \r\n                            setError(null)\r\n                        }\r\n                        \r\n                        setLoading(false)  \r\n                    }\r\n                },\r\n                (error) => {\r\n                    if(!cancelled){\r\n                        setError(error)\r\n                        setWorklog(null)\r\n                        setLoading(false)\r\n                    }\r\n                }\r\n            )\r\n        \r\n            return () => cancelled = true\r\n    },[worklogid])\r\n\r\n    React.useEffect(() => {\r\n        console.log(\"WL Detail\",worklog)\r\n    },[worklog])\r\n    \r\n    return (        \r\n        <BlockContainer>\r\n            <Modal \r\n                title=\"Eliminar tarea\" \r\n                isOpened={isOpened} \r\n                onClose={closeModal}\r\n                content=\"Esta acción es irreversible. ¿Desea continuar?\"\r\n                type=\"confirm\"\r\n                action={handleDelete} />\r\n            {loading ? <Spinner /> : ''}\r\n            <h3 className=\"section-title\">Detalle de parte</h3>\r\n            {deleteSuccess !== null ? \r\n                <div aria-label='success-message' className='message-success'>{deleteSuccess} <Link to={'/worklogs'}>Volver a la lista</Link></div>\r\n                :\r\n                <>\r\n                <BlockActions \r\n                    actions={actions}\r\n                />\r\n                {error !== null ?\r\n                    <ErrorMessage>{error.message}</ErrorMessage>\r\n                    :\r\n                    (worklog && worklog.worklog)?                \r\n                        <WorklogDetailContainer> \r\n                            <WorklogDetailItem>\r\n                                <WorklogDetailKey>Título:</WorklogDetailKey>\r\n                                <WorklogDetailValue>{worklog.worklog.title}</WorklogDetailValue>\r\n                            </WorklogDetailItem>      \r\n                            <WorklogDetailItem>\r\n                                <WorklogDetailKey>Creada:</WorklogDetailKey>\r\n                                <WorklogDetailValue>{worklog.worklog.createdDate ? worklog.worklog.createdDate : '-'}</WorklogDetailValue>\r\n                            </WorklogDetailItem>\r\n                            <WorklogDetailItem>\r\n                                <WorklogDetailKey>Inicio:</WorklogDetailKey>\r\n                                <WorklogDetailValue>{worklog.worklog.startDatetime ? worklog.worklog.startDatetime : '-'}</WorklogDetailValue>\r\n                            </WorklogDetailItem>\r\n                            <WorklogDetailItem>\r\n                                <WorklogDetailKey>Fin:</WorklogDetailKey>\r\n                                <WorklogDetailValue>{worklog.worklog.endDatetime ? worklog.worklog.endDatetime : '-'}</WorklogDetailValue>\r\n                            </WorklogDetailItem>\r\n                            <WorklogDetailItem>\r\n                                <WorklogDetailKey>Duración:</WorklogDetailKey>\r\n                                <WorklogDetailValue>\r\n                                    {worklog.worklog.endDatetime ? \r\n                                        formatElapsedTime(\r\n                                            elapsedTime( \r\n                                                worklog.worklog.startDatetime, \r\n                                                worklog.worklog.endDatetime\r\n                                            )) \r\n                                        : \r\n                                        '-'\r\n                                        }\r\n                                </WorklogDetailValue>\r\n                            </WorklogDetailItem>   \r\n                            <WorklogDetailItem>\r\n                                <WorklogDetailKey>Tags:</WorklogDetailKey>\r\n                                <WorklogDetailValue>\r\n                                {worklog.worklog.tags.length ?\r\n                                    <WorklogTagsContainer>\r\n                                    {\r\n                                        worklog.worklog.tags.map((tag) => {\r\n                                            return <div key={tag}>{tag}</div>\r\n                                        })\r\n                                    }\r\n                                    </WorklogTagsContainer> \r\n                                    :\r\n                                    '-'\r\n                                }               \r\n                                </WorklogDetailValue>\r\n                            </WorklogDetailItem>    \r\n                            \r\n                            {worklog &&\r\n                                <WorklogSequence worklog={worklog} />  \r\n                            }                      \r\n                        </WorklogDetailContainer>\r\n                        \r\n                    :   \r\n                        <div></div>\r\n                }\r\n                </>\r\n            }    \r\n                \r\n        </BlockContainer>\r\n    )   \r\n}","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\importDatabase.ts",["299"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\getWorklog.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\deleteWorklog.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\domain\\task-definitions.ts",["300"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\addTask.tsx",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\common\\modal.tsx",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\addJob.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\tasks\\task-detail.component.tsx",["301","302","303","304","305","306"],"import React, { Children } from 'react'\r\nimport styled from 'styled-components'\r\nimport { color, common } from '../../../styles/theme'\r\nimport { useParams} from 'react-router-dom'\r\nimport { TaskDetail, TaskObject } from '../../../domain/task-detail'\r\nimport { TaskPriority, TaskStatus, ConstObjectToSelectOptionsArray } from '../../../domain/task-definitions'\r\nimport { getTask } from '../../../application/getTask'\r\nimport { deleteTask } from '../../../application/deleteTask'\r\nimport { Spinner } from '../common/spinner'\r\nimport { BlockActions } from '../common/block-actions'\r\nimport { FaEdit, FaTrashAlt, FaPlus } from 'react-icons/fa'\r\nimport { Modal } from '../common/modal'\r\nimport { Link } from 'react-router-dom'\r\nimport { dateToFormattedDate } from '../../../../lib/date.utils'\r\nimport { BlockContainer, BlockHeaderComponent } from '../common/block'\r\nimport { SyncStateContext} from '../../../application/contexts/dbSyncContext'\r\n \r\nconst TaskDetailContainer = styled.ul`\r\n`;\r\nconst TaskDetailKey = styled.div`\r\n    font-weight: bold;\r\n    color: ${color.black};\r\n    flex-basis: 10rem;\r\n`;\r\nconst TaskDetailValue = styled.div`\r\n    color: ${color.black}\r\n`;\r\n\r\nconst TaskDetailItem = styled.li`\r\n    display: flex;\r\n    flex-direction: vertical;\r\n    margin: 1rem;\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n    background-color: ${color.lightRed};\r\n    padding: 1rem;\r\n    text-align: center;\r\n    color: ${color.white};\r\n    margin: 0.5rem;\r\n`;\r\n\r\nconst TaskChildrenContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.5rem;\r\n\r\n    & a{\r\n        display: inline-flex;\r\n        background-color: ${color.orange};\r\n        ${common.roundedCorners()};\r\n        padding: 0.5rem;\r\n    }\r\n\r\n    & a:hover {\r\n        background-color: ${color.lightOrange};\r\n    }    \r\n`\r\n\r\nconst TaskTagsContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 0.5rem;\r\n\r\n    & div{\r\n        display: inline-flex;\r\n        background-color: rgba(0,0,0,0.7);\r\n        color: ${color.white};        \r\n        ${common.roundedCorners()};\r\n        padding: 0.5rem;\r\n    }\r\n`\r\n\r\nexport interface TaskProps {\r\n    taskid: string,\r\n}\r\nexport const TaskDetailComponent = (props) => {\r\n    let { taskid } = useParams<TaskProps>()\r\n    const syncCtx = React.useContext(SyncStateContext)\r\n    const {setSync} = syncCtx\r\n\r\n    const [task, setTask] = React.useState<TaskObject | null>(null)        \r\n    const [error, setError] = React.useState<Error | null>(null)\r\n    const [deleteSuccess, setDeleteSuccess] = React.useState<string | null>(null)\r\n    const [loading, setLoading] = React.useState<boolean>(false)\r\n    const [actions, setActions] = React.useState<Array<any>>([])\r\n    const [isOpened, setOpened] = React.useState(false)\r\n    const [statusLabel, setStatusLabel ] = React.useState<string>('')\r\n    const [priorityLabel, setPriorityLabel ] = React.useState<string>('')\r\n    const [confirmedDelete, setConfirmedDelete ] = React.useState<boolean>(false)\r\n    \r\n    const confirmDelete = () =>{\r\n        openModal()        \r\n    }\r\n    const handleDelete = () => {\r\n        setOpened(false)\r\n        setLoading(true)\r\n        setConfirmedDelete(true)   \r\n    }\r\n\r\n    const childHandler = () => {\r\n\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        let cancelled = false\r\n        if(confirmedDelete){\r\n            deleteTask(taskid)\r\n            .then(\r\n                result => {\r\n                    if(!cancelled){\r\n                        if(!result.hasError){\r\n                            setSync({sync: false})\r\n                            setDeleteSuccess('La tarea se ha eliminado con éxito')\r\n                        }else{\r\n                            setError(new Error('Ha ocurrido un error al eliminar la tarea.'))\r\n                        }\r\n                        setLoading(false)\r\n                    }\r\n                },\r\n                error => {\r\n                    console.log(\"Error: \", error)\r\n                    setError(new Error('Ha ocurrido un error al eliminar la tarea.'))\r\n                    setLoading(false)\r\n                }\r\n            )\r\n        }\r\n\r\n        return () => cancelled = true;\r\n    },[confirmedDelete])\r\n\r\n    const closeModal = () => {  setOpened(false)}\r\n    const openModal = () => { setOpened(true)}\r\n\r\n    let actionItems = [\r\n        {\r\n            icon: FaEdit,\r\n            text: 'Editar',\r\n            route: `/tasks/edit/${taskid}`,\r\n            type: 'link'\r\n        },\r\n        {\r\n            icon: FaTrashAlt,\r\n            text: 'Borrar',\r\n            type: 'button',\r\n            handler: confirmDelete\r\n        },\r\n        {\r\n            icon: FaPlus,\r\n            text: 'Subtarea',\r\n            route: `/tasks/new/${taskid}`,\r\n            type: 'link'\r\n        }\r\n    ]\r\n\r\n    React.useEffect(() => {\r\n        let cancelled = false;\r\n        setActions(actionItems)\r\n        setLoading(true)\r\n        getTask(taskid)\r\n            .then(\r\n                (result) => {\r\n                    if(!cancelled){\r\n                        if(result.hasError){\r\n                            setError(new Error(result.error))\r\n                            setTask(null)\r\n                        }else{\r\n                            let status = ConstObjectToSelectOptionsArray(TaskStatus).filter(i => i.value === result.data.task.status)\r\n                            setStatusLabel(status.length ? status[0].label : '')\r\n                            let priority = ConstObjectToSelectOptionsArray(TaskPriority).filter(i => i.value === result.data.task.priority)\r\n                            setPriorityLabel(priority.length ? priority[0].label : '')\r\n                            setTask(result.data) \r\n                            setError(null)\r\n                        }\r\n                        \r\n                        setLoading(false)  \r\n                    }\r\n                },\r\n                (error) => {\r\n                    if(!cancelled){\r\n                        setError(error)\r\n                        setTask(null)\r\n                        setLoading(false)\r\n                    }\r\n                }\r\n            )\r\n        \r\n            return () => cancelled = true\r\n    },[taskid])\r\n    return (        \r\n        <BlockContainer>\r\n            <Modal \r\n                title=\"Eliminar tarea\" \r\n                isOpened={isOpened} \r\n                onClose={closeModal}\r\n                content=\"Esta acción es irreversible. ¿Desea continuar?\"\r\n                type=\"confirm\"\r\n                action={handleDelete} />\r\n            {loading ? <Spinner /> : ''}\r\n            <h3 className=\"section-title\">Detalle de tarea</h3>\r\n            {deleteSuccess !== null ? \r\n                <div aria-label='success-message' className='message-success'>{deleteSuccess} <Link to={'/tasks'}>Volver a la lista</Link></div>\r\n                :\r\n                <>\r\n                <BlockActions \r\n                    actions={actions}\r\n                />\r\n                {error !== null ?\r\n                    <ErrorMessage>{error.message}</ErrorMessage>\r\n                    :\r\n                    (task && task.task)?                \r\n                        <TaskDetailContainer> \r\n                            <TaskDetailItem>\r\n                                <TaskDetailKey>Título:</TaskDetailKey>\r\n                                <TaskDetailValue>{task.task.title}</TaskDetailValue>\r\n                            </TaskDetailItem>\r\n                            <TaskDetailItem>\r\n                                <TaskDetailKey>Descripción:</TaskDetailKey>\r\n                                <TaskDetailValue>{task.task.description}</TaskDetailValue>\r\n                            </TaskDetailItem>\r\n                            <TaskDetailItem>\r\n                                <TaskDetailKey>Author:</TaskDetailKey>\r\n                                <TaskDetailValue>{task.task.author}</TaskDetailValue>\r\n                            </TaskDetailItem>\r\n                            <TaskDetailItem>\r\n                                <TaskDetailKey>Estado:</TaskDetailKey>\r\n                                <TaskDetailValue>{statusLabel}</TaskDetailValue>\r\n                            </TaskDetailItem>\r\n                            <TaskDetailItem>\r\n                                <TaskDetailKey>Prioridad:</TaskDetailKey>\r\n                                <TaskDetailValue>{priorityLabel}</TaskDetailValue>\r\n                            </TaskDetailItem>\r\n                            <TaskDetailItem>\r\n                                <TaskDetailKey>Creada:</TaskDetailKey>\r\n                                <TaskDetailValue>{task.task.createdDate ? dateToFormattedDate(new Date(task.task.createdDate)) : '-'}</TaskDetailValue>\r\n                            </TaskDetailItem>\r\n                            <TaskDetailItem>\r\n                                <TaskDetailKey>Fecha límite:</TaskDetailKey>\r\n                                <TaskDetailValue>{task.task.limitDate ? dateToFormattedDate(new Date(task.task.limitDate)) : '-'}</TaskDetailValue>\r\n                            </TaskDetailItem>                            \r\n                            <TaskDetailItem>\r\n                                <TaskDetailKey>Tags:</TaskDetailKey>\r\n                                <TaskDetailValue>\r\n                                {task.task.tags.length ?\r\n                                    <TaskTagsContainer>\r\n                                    {\r\n                                        task.task.tags.map((tag) => {\r\n                                            return <div key={tag}>{tag}</div>\r\n                                        })\r\n                                    }\r\n                                    </TaskTagsContainer> \r\n                                    :\r\n                                    '-'\r\n                                }               \r\n                                </TaskDetailValue>\r\n                            </TaskDetailItem>\r\n                            <TaskDetailItem>\r\n                                <TaskDetailKey>Tarea padre:</TaskDetailKey>\r\n                                <TaskDetailValue>\r\n                                    {task.parentTask ?\r\n                                        <TaskChildrenContainer>\r\n                                            <Link to={`${task.parentTask.id}`}>{task.parentTask.title}</Link>\r\n                                        </TaskChildrenContainer>\r\n                                        :\r\n                                        '-'\r\n                                    }\r\n                                </TaskDetailValue>\r\n                            </TaskDetailItem>\r\n                            <TaskDetailItem>\r\n                                <TaskDetailKey>Subtareas:</TaskDetailKey>\r\n                                <TaskDetailValue>\r\n                                {task.childTasks.length ?\r\n                                    <TaskChildrenContainer>\r\n                                    {\r\n                                        task.childTasks.map((child) => {\r\n                                            return <Link to={`${child.id}`} key={child.title}>{child.title}</Link>\r\n                                        })\r\n                                    }\r\n                                    </TaskChildrenContainer> \r\n                                    :\r\n                                    '-'\r\n                                }                                \r\n                                </TaskDetailValue>\r\n                            </TaskDetailItem>                           \r\n                        </TaskDetailContainer>\r\n                        \r\n                    :   \r\n                        <div></div>\r\n                }\r\n                </>\r\n            }    \r\n                \r\n        </BlockContainer>\r\n    )   \r\n}","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\db-sync.tsx",["307","308","309","310","311","312","313"],"import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { color, common } from '../../styles/theme'\r\nimport { SyncStateContext } from '../../application/contexts/dbSyncContext'\r\nimport { exportDb } from '../../application/exportDatabase'\r\nimport { isSyncedDb } from '../../application/isSyncedDatabase'\r\nimport { FaSave } from 'react-icons/fa'\r\nimport { IconButton } from './common/icon-button'\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nconst SyncWarningContainer = styled.div`\r\n    text-align: center;\r\n`\r\nconst ExportButton = styled.button`\r\n    ${common.roundedCorners('50%')};\r\n    border-style: solid;\r\n    border-width: 2px;\r\n    border-color: ${color.darkOrange};\r\n    color: ${color.darkOrange};\r\n    background-color: rgba(0,0,0,0);\r\n    animation-name: iconglow;\r\n    animation-duration: 2s;\r\n    animation-iteration-count: infinite;\r\n\r\n    @keyframes iconglow {\r\n        from {\r\n            color: ${color.darkOrange};\r\n            border-color: ${color.darkOrange};\r\n        }\r\n        to {\r\n            color: ${color.white};\r\n            border-color: ${color.white};\r\n        }\r\n    }\r\n`\r\n\r\nconst exportDB = () => {              \r\n    \r\n    exportDb().then(\r\n        (result) => {\r\n            if(!result.hasError){\r\n                let blob = new Blob([JSON.parse(result.data.blob)], { type: 'text/plain;charset=utf-8;' })\r\n                let exportedFilename = result.data.filename\r\n                \r\n                if (navigator.msSaveBlob) { // IE 10+\r\n                    navigator.msSaveBlob(blob, exportedFilename)\r\n                } else {\r\n                    var link = document.createElement('a')\r\n                    if (link.download !== undefined) { // feature detection\r\n                        // Browsers that support HTML5 download attribute\r\n                        var url = URL.createObjectURL(blob)\r\n                        link.setAttribute('href', url)\r\n                        link.setAttribute('download', exportedFilename)\r\n                        link.style.visibility = 'hidden'\r\n                        document.body.appendChild(link)\r\n                        link.click()\r\n                        document.body.removeChild(link)\r\n                    }\r\n                }\r\n            }else{\r\n                console.log(result.error)\r\n            }\r\n        },\r\n        (error) => {\r\n            console.log(error)\r\n        }\r\n    )\r\n}\r\n\r\nconst importDB = () => {\r\n\r\n}\r\n\r\nexport const DbSync = () => {\r\n    const syncCtx = React.useContext(SyncStateContext)\r\n    const {sync, setSync} = syncCtx\r\n    const [syncFail, setSyncFail] = React.useState<boolean>(false)\r\n  \r\n    React.useEffect(()=>{\r\n        setSync({sync:true})\r\n    },[])\r\n    \r\n    const handleExport = () => {\r\n        exportDB()\r\n        setSync({sync:true})\r\n    }\r\n    \r\n    React.useEffect(()=>{\r\n        isSyncedDb().then(\r\n            result => {\r\n                if(!result.hasError){\r\n                    if(sync.sync === true && result.data === false){\r\n                        setSync({sync: false})\r\n                    }\r\n                }else{\r\n                    console.log(result.error)\r\n                }\r\n            },\r\n            error => {\r\n                console.log(error)\r\n            }\r\n        )\r\n    },[sync])\r\n\r\n    return (\r\n        <>\r\n        {!sync.sync &&\r\n            <SyncWarningContainer>            \r\n                <ExportButton \r\n                    id='export'\r\n                    key='export'\r\n                    aria-label='export'\r\n                    onClick={handleExport}                   \r\n                ><FaSave /></ExportButton>\r\n            </SyncWarningContainer>\r\n        }\r\n        </>\r\n    )\r\n}","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\common\\icon-button.tsx",["314","315","316","317"],"import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { color, common } from '../../../styles/theme'\r\nimport { Link } from 'react-router-dom'\r\nimport {IconType} from 'react-icons'\r\nimport { BlockActions } from './block-actions'\r\n\r\nconst LinkWrapper = styled(Link)`  \r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    background-color: ${color.lightGrey};\r\n    ${common.roundedCorners()};\r\n    padding: 0.5rem;\r\n    flex-wrap: wrap;\r\n    color: ${color.veryDarkGrey} !important;    \r\n    transition: background-color .3s;\r\n\r\n    :hover, :hover span{\r\n        background-color: ${color.semiLightGrey};\r\n    }\r\n`;\r\n\r\nconst ButtonWrapper = styled.button`  \r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    background-color: ${color.lightGrey};\r\n    ${common.roundedCorners()};\r\n    padding: 0.5rem;\r\n    color: ${color.veryDarkGrey} !important;\r\n    transition: background-color .3s;\r\n\r\n    :hover, :hover span{\r\n        background-color: ${color.semiLightGrey};\r\n    }\r\n`;\r\n\r\nconst IconWrapper = styled.div`\r\n    display: inline-flex;\r\n    align-items: center;\r\n    \r\n    transition: background-color .3s;\r\n`\r\n\r\nconst TextWrapper = styled.div`\r\n    margin-left: 1rem;\r\n`\r\n\r\nexport const IconButton = (props) => {\r\n    const [text, setText] = React.useState('')  \r\n    let Icon = props.icon || null\r\n\r\n    React.useEffect(()=> {\r\n        Icon = props.icon\r\n    },[props.icon])\r\n    \r\n    React.useEffect(()=> {\r\n        setText(props.text)\r\n    },[props.text])\r\n\r\n    return (\r\n        <ButtonWrapper\r\n            className={props.className}\r\n            onClick={props.onClick}\r\n            role=\"button\"\r\n            aria-label={props.text}\r\n            type={props.type}\r\n        >\r\n            <IconWrapper className={props.className}><Icon/></IconWrapper>       \r\n            {text && \r\n                <TextWrapper>{text}</TextWrapper>\r\n            }\r\n        </ButtonWrapper>\r\n    )\r\n}\r\n\r\n\r\nexport const IconLink = (props) => {\r\n    const [route, setRoute] = React.useState(props.route || '')\r\n    const [text, setText] = React.useState(props.text || '')\r\n\r\n    let Icon = props.icon || null\r\n\r\n    React.useEffect(()=> {\r\n        Icon = props.icon      \r\n    },[props.icon])\r\n\r\n    React.useEffect(()=> {\r\n        setRoute(props.route)\r\n    },[props.route])\r\n\r\n    React.useEffect(()=> {\r\n        setText(props.text)\r\n    },[props.text])\r\n\r\n    return (\r\n        <LinkWrapper \r\n            to={route} \r\n            className={props.className}\r\n            onClick={props.onClick}\r\n            role=\"button\"\r\n            aria-label={text}\r\n            >\r\n            <IconWrapper className={props.className}><Icon /></IconWrapper>\r\n            {text && \r\n                <TextWrapper>{text}</TextWrapper>\r\n            }\r\n        </LinkWrapper>\r\n    )\r\n}","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\common\\form\\form.tsx",["318","319","320","321","322","323","324","325","326","327"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\common\\header.tsx",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\App.tsx",["328","329"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\lib\\date.utils.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\closeWorklog.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\reportWebVitals.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\contexts\\dbSyncContext.tsx",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\existsDatabase.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\newDatabase.ts",["330"],"import { ApiResponse, ApiResponseBuilder } from '../../api/domain/api-response'\r\n\r\nexport const newDb = async (): Promise<ApiResponse> => {    \r\n    \r\n    return await fetch('http://localhost:3000/api/db/new',{\r\n        method: 'POST',\r\n    })\r\n        .then(res => res.json())        \r\n        .then(\r\n            (result) => {              \r\n                return result\r\n             },\r\n            (error) => { \r\n                throw new Error(error)\r\n            }\r\n        )\r\n}","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\deleteTask.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\common\\block.tsx",["331"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\reopenWorklog.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\dtos\\jobApiToComponent.dto.ts",["332","333"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\contexts\\runningWorklogsContext.tsx",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\worklog\\worklog-running.component.tsx",["334","335","336","337","338","339","340"],"import React from 'react'\r\nimport { Worklog, WorklogObject } from 'src/front/domain/worklog'\r\nimport styled from 'styled-components'\r\nimport {color, common} from '../../../styles/theme'\r\nimport { RunningWorklogsStateContext } from '../../../application/contexts/runningWorklogsContext'\r\nimport { getWorklogList } from '../../../application/getWorklogList'\r\nimport { formatElapsedTime, elapsedTime, ISOStringToFormatedDate, dateToFormattedDate } from '../../../../lib/date.utils'\r\nimport { RunningElapsedTime } from './worklog-sequence.component'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst RunningWorklogsContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    ${common.roundedCorners()};\r\n    border-style: solid;\r\n    border-width: 2px;\r\n    border-color: green;\r\n    background-color: ${color.lightGreen};\r\n    padding: 1rem;\r\n`\r\n\r\nconst RunningWorklogsItem = styled.div`\r\n\r\n`\r\n\r\nconst RowLink = styled(Link)`\r\n    display: inline-block;\r\n    width: 100%;\r\n`\r\nexport const RunningWorklogsWidget = () => {\r\n    const runningWorklogsCtx = React.useContext(RunningWorklogsStateContext)\r\n    const {state, setState} = runningWorklogsCtx\r\n    const [worklogs, setWorklogs] = React.useState<Array<Worklog>>([])\r\n\r\n    React.useEffect(()=> {\r\n        getWorklogList({endDatetime: ''}).then(\r\n            result => {                \r\n                if(!result.hasError){\r\n                    setWorklogs(result.data)\r\n                }else{\r\n                    console.log(result.error)\r\n                }\r\n            },\r\n            error => {\r\n                console.log(error)\r\n            }\r\n        )\r\n    },[])\r\n\r\n    return (\r\n        <RunningWorklogsContainer>        \r\n        {worklogs.length > 0 ?\r\n            worklogs.map((worklog) => {\r\n                return(\r\n                    <RunningWorklogsItem>{worklog.title}</RunningWorklogsItem>\r\n                )\r\n            })\r\n            :\r\n            <div>No hay partes activos</div>\r\n        }\r\n        </RunningWorklogsContainer>\r\n    )\r\n}\r\n\r\nconst RunningWorklogTable = styled.table`\r\n    width: 100%;\r\n\r\n    & th {\r\n        font-weight: bold;\r\n        border-style:solid;\r\n        border-width: 0 0 1px 0;\r\n        border-color: ${color.darkGrey};\r\n    }\r\n\r\n    & td {\r\n        padding: 0.5rem 0;\r\n    }\r\n`\r\n\r\nexport const RunningWorklogsTable = () => {\r\n    \r\n    const [worklogs, setWorklogs] = React.useState<Array<Worklog>>([])\r\n\r\n    React.useEffect(()=> {\r\n        getWorklogList({endDatetime: ''}).then(\r\n            result => {                \r\n                if(!result.hasError){\r\n                    console.log(result.data)\r\n                    setWorklogs(result.data)\r\n                }else{\r\n                    console.log(result.error)\r\n                }\r\n            },\r\n            error => {\r\n                console.log(error)\r\n            }\r\n        )\r\n    },[])\r\n\r\n    return (    \r\n        <>   \r\n        {worklogs.length > 0 ? \r\n            <RunningWorklogTable>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Título</th>\r\n                        <th>Tiempo</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                {\r\n                    worklogs.map((worklog) => {\r\n                        return(\r\n                            <tr key={`worklogs_activos_${worklog.id}`}>\r\n                                <td><RowLink to={`worklogs/${worklog.id}`}>{worklog.title}</RowLink></td>\r\n                                <td><RunningElapsedTime start={worklog.startDatetime}/></td>\r\n                            </tr>\r\n                        )\r\n                    })    \r\n                }\r\n                </tbody>\r\n            </RunningWorklogTable>   \r\n            :\r\n            <div>No hay partes activos</div>\r\n        }\r\n        </>    \r\n    )\r\n}","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\views\\home.component.tsx",["341","342","343"],"import React  from 'react'\r\nimport styled from 'styled-components'\r\nimport { color, common } from '../../styles/theme'\r\nimport { BlockContainer, BlockHeaderComponent} from '../components/common/block'\r\nimport { TaskListComponent } from '../components/tasks/task-list.component'\r\nimport { RunningWorklogsTable } from '../components/worklog/worklog-running.component'\r\n\r\nconst DashboardContainer = styled(BlockContainer)`\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    justify-content: space-evenly\r\n    gap: 1rem;\r\n`\r\nconst DashboardHeader = styled.h3`\r\n    width: 100%;\r\n`\r\n\r\nconst PanelContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    color: ${color.black};\r\n    flex-grow: 1;\r\n    margin: 1rem;\r\n`\r\nconst PanelHeader = styled.div`\r\n    padding: 0.5rem;\r\n    background-color: ${color.white};\r\n    color: ${color.orange};\r\n    font-weight: bold;\r\n    font-size: 1.2rem;\r\n    border-style: solid;\r\n    border-width: 0 0 1px 0;\r\n    border-color: ${color.orange};\r\n`\r\n\r\nconst PanelBody = styled.div`\r\n    display: flex;\r\n    flex-grow: 1;\r\n    padding: 1rem;\r\n`\r\n\r\nexport const Panel = ({children}) => {\r\n    return(\r\n        <PanelContainer>\r\n            <PanelHeader>Partes activos</PanelHeader>\r\n            <PanelBody>{children}</PanelBody>\r\n        </PanelContainer>\r\n    )\r\n}\r\n\r\nexport const Home = () =>  {\r\n    return (     \r\n        <DashboardContainer>\r\n            <DashboardHeader className=\"section-title\">Información general</DashboardHeader>            \r\n            <Panel><RunningWorklogsTable /></Panel>\r\n        </DashboardContainer>\r\n    )\r\n}","C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\addWorklog.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\domain\\api-response.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\tasks\\task-list.component.tsx",["344"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\application\\updateTask.ts",[],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\front\\infrastructure\\components\\tasks\\task-new.component.tsx",["345","346","347","348","349","350","351"],"C:\\Program Files\\Apache24\\htdocs\\php7\\tasker\\src\\api\\infrastructure\\repositories\\browser\\handlers\\tasks.ts",["352"],{"ruleId":"353","replacedBy":"354"},{"ruleId":"355","replacedBy":"356"},{"ruleId":"353","replacedBy":"357"},{"ruleId":"355","replacedBy":"358"},{"ruleId":"359","severity":1,"message":"360","line":70,"column":7,"nodeType":"361","endLine":70,"endColumn":16,"suggestions":"362"},{"ruleId":"353","replacedBy":"363"},{"ruleId":"355","replacedBy":"364"},{"ruleId":"365","severity":1,"message":"366","line":459,"column":13,"nodeType":"367","messageId":"368","endLine":459,"endColumn":14},{"ruleId":"365","severity":1,"message":"366","line":503,"column":11,"nodeType":"367","messageId":"368","endLine":503,"endColumn":12},{"ruleId":"365","severity":1,"message":"366","line":521,"column":11,"nodeType":"367","messageId":"368","endLine":521,"endColumn":12},{"ruleId":"365","severity":1,"message":"366","line":954,"column":13,"nodeType":"367","messageId":"368","endLine":954,"endColumn":14},{"ruleId":"365","severity":1,"message":"369","line":955,"column":10,"nodeType":"367","messageId":"368","endLine":955,"endColumn":13},{"ruleId":"365","severity":1,"message":"366","line":1023,"column":11,"nodeType":"367","messageId":"368","endLine":1023,"endColumn":12},{"ruleId":"365","severity":1,"message":"370","line":1026,"column":9,"nodeType":"367","messageId":"368","endLine":1026,"endColumn":12},{"ruleId":"365","severity":1,"message":"366","line":1287,"column":12,"nodeType":"367","messageId":"368","endLine":1287,"endColumn":13},{"ruleId":"365","severity":1,"message":"371","line":1299,"column":10,"nodeType":"367","messageId":"368","endLine":1299,"endColumn":11},{"ruleId":"372","severity":1,"message":"373","line":1469,"column":3,"nodeType":"374","messageId":"375","endLine":1491,"endColumn":4},{"ruleId":"376","severity":1,"message":"377","line":1476,"column":4,"nodeType":"378","messageId":"379","endLine":1481,"endColumn":6},{"ruleId":"376","severity":1,"message":"377","line":1482,"column":4,"nodeType":"378","messageId":"379","endLine":1490,"endColumn":6},{"ruleId":"365","severity":1,"message":"366","line":1544,"column":14,"nodeType":"367","messageId":"368","endLine":1544,"endColumn":15},{"ruleId":"365","severity":1,"message":"380","line":1577,"column":9,"nodeType":"367","messageId":"368","endLine":1577,"endColumn":15},{"ruleId":"353","replacedBy":"357"},{"ruleId":"355","replacedBy":"358"},{"ruleId":"381","severity":1,"message":"382","line":4,"column":31,"nodeType":"367","messageId":"383","endLine":4,"endColumn":43},{"ruleId":"381","severity":1,"message":"384","line":5,"column":10,"nodeType":"367","messageId":"383","endLine":5,"endColumn":21},{"ruleId":"381","severity":1,"message":"385","line":6,"column":10,"nodeType":"367","messageId":"383","endLine":6,"endColumn":33},{"ruleId":"386","severity":1,"message":"387","line":108,"column":38,"nodeType":"388","messageId":"389","endLine":108,"endColumn":40},{"ruleId":"386","severity":1,"message":"387","line":180,"column":41,"nodeType":"388","messageId":"389","endLine":180,"endColumn":43},{"ruleId":"386","severity":1,"message":"387","line":282,"column":29,"nodeType":"388","messageId":"389","endLine":282,"endColumn":31},{"ruleId":"386","severity":1,"message":"387","line":337,"column":36,"nodeType":"388","messageId":"389","endLine":337,"endColumn":38},{"ruleId":"381","severity":1,"message":"390","line":3,"column":17,"nodeType":"367","messageId":"383","endLine":3,"endColumn":23},{"ruleId":"381","severity":1,"message":"391","line":6,"column":25,"nodeType":"367","messageId":"383","endLine":6,"endColumn":32},{"ruleId":"381","severity":1,"message":"392","line":9,"column":26,"nodeType":"367","messageId":"383","endLine":9,"endColumn":33},{"ruleId":"381","severity":1,"message":"393","line":12,"column":10,"nodeType":"367","messageId":"383","endLine":12,"endColumn":23},{"ruleId":"381","severity":1,"message":"394","line":78,"column":18,"nodeType":"367","messageId":"383","endLine":78,"endColumn":26},{"ruleId":"359","severity":1,"message":"395","line":95,"column":10,"nodeType":"361","endLine":95,"endColumn":12,"suggestions":"396"},{"ruleId":"359","severity":1,"message":"397","line":118,"column":7,"nodeType":"361","endLine":118,"endColumn":19,"suggestions":"398"},{"ruleId":"381","severity":1,"message":"399","line":2,"column":8,"nodeType":"367","messageId":"383","endLine":2,"endColumn":14},{"ruleId":"381","severity":1,"message":"400","line":3,"column":10,"nodeType":"367","messageId":"383","endLine":3,"endColumn":15},{"ruleId":"381","severity":1,"message":"401","line":3,"column":17,"nodeType":"367","messageId":"383","endLine":3,"endColumn":21},{"ruleId":"381","severity":1,"message":"402","line":34,"column":21,"nodeType":"367","messageId":"383","endLine":34,"endColumn":31},{"ruleId":"381","severity":1,"message":"403","line":35,"column":17,"nodeType":"367","messageId":"383","endLine":35,"endColumn":23},{"ruleId":"381","severity":1,"message":"399","line":2,"column":8,"nodeType":"367","messageId":"383","endLine":2,"endColumn":14},{"ruleId":"381","severity":1,"message":"400","line":3,"column":10,"nodeType":"367","messageId":"383","endLine":3,"endColumn":15},{"ruleId":"381","severity":1,"message":"390","line":3,"column":17,"nodeType":"367","messageId":"383","endLine":3,"endColumn":23},{"ruleId":"381","severity":1,"message":"404","line":16,"column":10,"nodeType":"367","messageId":"383","endLine":16,"endColumn":20},{"ruleId":"381","severity":1,"message":"405","line":18,"column":27,"nodeType":"367","messageId":"383","endLine":18,"endColumn":46},{"ruleId":"381","severity":1,"message":"406","line":18,"column":48,"nodeType":"367","messageId":"383","endLine":18,"endColumn":72},{"ruleId":"381","severity":1,"message":"407","line":42,"column":18,"nodeType":"367","messageId":"383","endLine":42,"endColumn":25},{"ruleId":"381","severity":1,"message":"408","line":44,"column":12,"nodeType":"367","messageId":"383","endLine":44,"endColumn":17},{"ruleId":"359","severity":1,"message":"409","line":198,"column":7,"nodeType":"361","endLine":198,"endColumn":9,"suggestions":"410"},{"ruleId":"353","replacedBy":"354"},{"ruleId":"355","replacedBy":"356"},{"ruleId":"381","severity":1,"message":"401","line":4,"column":10,"nodeType":"367","messageId":"383","endLine":4,"endColumn":14},{"ruleId":"381","severity":1,"message":"411","line":32,"column":12,"nodeType":"367","messageId":"383","endLine":32,"endColumn":17},{"ruleId":"381","severity":1,"message":"412","line":32,"column":19,"nodeType":"367","messageId":"383","endLine":32,"endColumn":27},{"ruleId":"381","severity":1,"message":"413","line":33,"column":19,"nodeType":"367","messageId":"383","endLine":33,"endColumn":27},{"ruleId":"381","severity":1,"message":"414","line":1,"column":17,"nodeType":"367","messageId":"383","endLine":1,"endColumn":25},{"ruleId":"381","severity":1,"message":"391","line":5,"column":10,"nodeType":"367","messageId":"383","endLine":5,"endColumn":17},{"ruleId":"381","severity":1,"message":"415","line":13,"column":26,"nodeType":"367","messageId":"383","endLine":13,"endColumn":46},{"ruleId":"381","severity":1,"message":"385","line":16,"column":42,"nodeType":"367","messageId":"383","endLine":16,"endColumn":65},{"ruleId":"381","severity":1,"message":"416","line":42,"column":7,"nodeType":"367","messageId":"383","endLine":42,"endColumn":31},{"ruleId":"381","severity":1,"message":"417","line":98,"column":11,"nodeType":"367","messageId":"383","endLine":98,"endColumn":23},{"ruleId":"359","severity":1,"message":"418","line":127,"column":7,"nodeType":"361","endLine":127,"endColumn":24,"suggestions":"419"},{"ruleId":"359","severity":1,"message":"360","line":182,"column":7,"nodeType":"361","endLine":182,"endColumn":18,"suggestions":"420"},{"ruleId":"381","severity":1,"message":"421","line":1,"column":23,"nodeType":"367","messageId":"383","endLine":1,"endColumn":41},{"ruleId":"386","severity":1,"message":"387","line":17,"column":35,"nodeType":"388","messageId":"389","endLine":17,"endColumn":37},{"ruleId":"381","severity":1,"message":"414","line":1,"column":17,"nodeType":"367","messageId":"383","endLine":1,"endColumn":25},{"ruleId":"381","severity":1,"message":"422","line":5,"column":10,"nodeType":"367","messageId":"383","endLine":5,"endColumn":20},{"ruleId":"381","severity":1,"message":"415","line":15,"column":26,"nodeType":"367","messageId":"383","endLine":15,"endColumn":46},{"ruleId":"381","severity":1,"message":"417","line":101,"column":11,"nodeType":"367","messageId":"383","endLine":101,"endColumn":23},{"ruleId":"359","severity":1,"message":"423","line":130,"column":7,"nodeType":"361","endLine":130,"endColumn":24,"suggestions":"424"},{"ruleId":"359","severity":1,"message":"360","line":189,"column":7,"nodeType":"361","endLine":189,"endColumn":15,"suggestions":"425"},{"ruleId":"381","severity":1,"message":"426","line":8,"column":10,"nodeType":"367","messageId":"383","endLine":8,"endColumn":20},{"ruleId":"381","severity":1,"message":"427","line":9,"column":10,"nodeType":"367","messageId":"383","endLine":9,"endColumn":23},{"ruleId":"381","severity":1,"message":"428","line":70,"column":7,"nodeType":"367","messageId":"383","endLine":70,"endColumn":15},{"ruleId":"381","severity":1,"message":"429","line":77,"column":12,"nodeType":"367","messageId":"383","endLine":77,"endColumn":20},{"ruleId":"381","severity":1,"message":"430","line":77,"column":22,"nodeType":"367","messageId":"383","endLine":77,"endColumn":33},{"ruleId":"359","severity":1,"message":"431","line":81,"column":7,"nodeType":"361","endLine":81,"endColumn":9,"suggestions":"432"},{"ruleId":"359","severity":1,"message":"431","line":103,"column":7,"nodeType":"361","endLine":103,"endColumn":13,"suggestions":"433"},{"ruleId":"381","severity":1,"message":"434","line":5,"column":9,"nodeType":"367","messageId":"383","endLine":5,"endColumn":17},{"ruleId":"381","severity":1,"message":"435","line":6,"column":10,"nodeType":"367","messageId":"383","endLine":6,"endColumn":22},{"ruleId":"359","severity":1,"message":"436","line":55,"column":16,"nodeType":"437","endLine":55,"endColumn":26},{"ruleId":"359","severity":1,"message":"436","line":86,"column":16,"nodeType":"437","endLine":86,"endColumn":26},{"ruleId":"359","severity":1,"message":"438","line":107,"column":7,"nodeType":"361","endLine":107,"endColumn":9,"suggestions":"439"},{"ruleId":"359","severity":1,"message":"440","line":133,"column":7,"nodeType":"361","endLine":133,"endColumn":9,"suggestions":"441"},{"ruleId":"359","severity":1,"message":"442","line":137,"column":7,"nodeType":"361","endLine":137,"endColumn":17,"suggestions":"443"},{"ruleId":"381","severity":1,"message":"444","line":182,"column":14,"nodeType":"367","messageId":"383","endLine":182,"endColumn":19},{"ruleId":"381","severity":1,"message":"445","line":182,"column":27,"nodeType":"367","messageId":"383","endLine":182,"endColumn":35},{"ruleId":"381","severity":1,"message":"446","line":182,"column":36,"nodeType":"367","messageId":"383","endLine":182,"endColumn":46},{"ruleId":"381","severity":1,"message":"447","line":243,"column":20,"nodeType":"367","messageId":"383","endLine":243,"endColumn":27},{"ruleId":"359","severity":1,"message":"448","line":247,"column":9,"nodeType":"361","endLine":247,"endColumn":11,"suggestions":"449"},{"ruleId":"386","severity":1,"message":"450","line":265,"column":50,"nodeType":"388","messageId":"451","endLine":265,"endColumn":52},{"ruleId":"386","severity":1,"message":"450","line":340,"column":50,"nodeType":"388","messageId":"451","endLine":340,"endColumn":52},{"ruleId":"381","severity":1,"message":"452","line":21,"column":10,"nodeType":"367","messageId":"383","endLine":21,"endColumn":31},{"ruleId":"359","severity":1,"message":"431","line":46,"column":6,"nodeType":"361","endLine":46,"endColumn":8,"suggestions":"453"},{"ruleId":"381","severity":1,"message":"421","line":1,"column":23,"nodeType":"367","messageId":"383","endLine":1,"endColumn":41},{"ruleId":"359","severity":1,"message":"454","line":43,"column":7,"nodeType":"361","endLine":43,"endColumn":16,"suggestions":"455"},{"ruleId":"381","severity":1,"message":"391","line":1,"column":10,"nodeType":"367","messageId":"383","endLine":1,"endColumn":17},{"ruleId":"381","severity":1,"message":"406","line":3,"column":10,"nodeType":"367","messageId":"383","endLine":3,"endColumn":34},{"ruleId":"381","severity":1,"message":"456","line":2,"column":19,"nodeType":"367","messageId":"383","endLine":2,"endColumn":32},{"ruleId":"381","severity":1,"message":"457","line":7,"column":10,"nodeType":"367","messageId":"383","endLine":7,"endColumn":27},{"ruleId":"381","severity":1,"message":"458","line":7,"column":29,"nodeType":"367","messageId":"383","endLine":7,"endColumn":40},{"ruleId":"381","severity":1,"message":"385","line":7,"column":42,"nodeType":"367","messageId":"383","endLine":7,"endColumn":65},{"ruleId":"381","severity":1,"message":"405","line":7,"column":67,"nodeType":"367","messageId":"383","endLine":7,"endColumn":86},{"ruleId":"381","severity":1,"message":"459","line":32,"column":12,"nodeType":"367","messageId":"383","endLine":32,"endColumn":17},{"ruleId":"381","severity":1,"message":"460","line":32,"column":19,"nodeType":"367","messageId":"383","endLine":32,"endColumn":27},{"ruleId":"381","severity":1,"message":"390","line":3,"column":17,"nodeType":"367","messageId":"383","endLine":3,"endColumn":23},{"ruleId":"381","severity":1,"message":"415","line":4,"column":26,"nodeType":"367","messageId":"383","endLine":4,"endColumn":46},{"ruleId":"381","severity":1,"message":"461","line":5,"column":10,"nodeType":"367","messageId":"383","endLine":5,"endColumn":27},{"ruleId":"359","severity":1,"message":"360","line":89,"column":7,"nodeType":"361","endLine":89,"endColumn":16,"suggestions":"462"},{"ruleId":"381","severity":1,"message":"405","line":17,"column":27,"nodeType":"367","messageId":"383","endLine":17,"endColumn":46},{"ruleId":"381","severity":1,"message":"406","line":17,"column":48,"nodeType":"367","messageId":"383","endLine":17,"endColumn":72},{"ruleId":"381","severity":1,"message":"407","line":58,"column":18,"nodeType":"367","messageId":"383","endLine":58,"endColumn":25},{"ruleId":"381","severity":1,"message":"408","line":60,"column":12,"nodeType":"367","messageId":"383","endLine":60,"endColumn":17},{"ruleId":"359","severity":1,"message":"463","line":109,"column":7,"nodeType":"361","endLine":109,"endColumn":9,"suggestions":"464"},{"ruleId":"465","severity":1,"message":"466","line":200,"column":38,"nodeType":"467","messageId":"468","endLine":200,"endColumn":40},{"ruleId":"465","severity":1,"message":"466","line":260,"column":29,"nodeType":"467","messageId":"468","endLine":260,"endColumn":31},{"ruleId":"381","severity":1,"message":"382","line":4,"column":31,"nodeType":"367","messageId":"383","endLine":4,"endColumn":43},"no-native-reassign",["469"],"no-negated-in-lhs",["470"],["469"],["470"],"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'actionItems'. Either include it or remove the dependency array.","ArrayExpression",["471"],["469"],["470"],"no-redeclare","'i' is already defined.","Identifier","redeclared","'msg' is already defined.","'day' is already defined.","'h' is already defined.","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-fallthrough","Expected a 'break' statement before 'case'.","SwitchCase","case","'result' is already defined.","@typescript-eslint/no-unused-vars","'FileDownload' is defined but never used.","unusedVar","'ApiResponse' is defined but never used.","'ISOStringToFormatedDate' is defined but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'common' is defined but never used.","'Worklog' is defined but never used.","'FaPause' is defined but never used.","'updateWorklog' is defined but never used.","'setStart' is assigned a value but never used.","React Hook React.useEffect has a missing dependency: 'calculateDiff'. Either include it or remove the dependency array.",["472"],"React Hook React.useEffect has a missing dependency: 'fillSequenceTable'. Either include it or remove the dependency array.",["473"],"'styled' is defined but never used.","'color' is defined but never used.","'font' is defined but never used.","'setWorklog' is assigned a value but never used.","'setJob' is assigned a value but never used.","'Datepicker' is defined but never used.","'dateToFormattedDate' is defined but never used.","'formattedDateToISOString' is defined but never used.","'setMode' is assigned a value but never used.","'error' is assigned a value but never used.","React Hook React.useEffect has missing dependencies: 'mode' and 'worklogid'. Either include them or remove the dependency array.",["474"],"'title' is assigned a value but never used.","'setTitle' is assigned a value but never used.","'setError' is assigned a value but never used.","'Children' is defined but never used.","'BlockHeaderComponent' is defined but never used.","'WorklogChildrenContainer' is assigned a value but never used.","'childHandler' is assigned a value but never used.","React Hook React.useEffect has missing dependencies: 'setSync' and 'worklogid'. Either include them or remove the dependency array.",["475"],["476"],"'ApiResponseBuilder' is defined but never used.","'TaskDetail' is defined but never used.","React Hook React.useEffect has missing dependencies: 'setSync' and 'taskid'. Either include them or remove the dependency array.",["477"],["478"],"'IconButton' is defined but never used.","'BrowserRouter' is defined but never used.","'importDB' is assigned a value but never used.","'syncFail' is assigned a value but never used.","'setSyncFail' is assigned a value but never used.","React Hook React.useEffect has a missing dependency: 'setSync'. Either include it or remove the dependency array.",["479"],["480"],"'IconType' is defined but never used.","'BlockActions' is defined but never used.","Assignments to the 'Icon' variable from inside React Hook React.useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside React.useEffect.","MemberExpression","React Hook React.useEffect has missing dependencies: 'label', 'props.id', 'props.maxDate', 'props.minDate', 'setTouched', and 'setValue'. Either include them or remove the dependency array.",["481"],"React Hook React.useEffect has a missing dependency: 'icon'. Either include it or remove the dependency array. If 'setInputIcon' needs the current value of 'icon', you can also switch to useReducer instead of useState and read 'icon' in the reducer.",["482"],"React Hook React.useEffect has missing dependencies: 'setTouched' and 'setValue'. Either include them or remove the dependency array.",["483"],"'field' is assigned a value but never used.","'setValue' is assigned a value but never used.","'setTouched' is assigned a value but never used.","'setView' is assigned a value but never used.","React Hook React.useEffect has a missing dependency: 'props.formItems'. Either include it or remove the dependency array. If 'setItems' needs the current value of 'props.formItems', you can also switch to useReducer instead of useState and read 'props.formItems' in the reducer.",["484"],"Array.prototype.map() expects a value to be returned at the end of arrow function.","expectedAtEnd","'RunningWorklogsWidget' is defined but never used.",["485"],"React Hook React.useEffect has a missing dependency: 'props.actions'. Either include it or remove the dependency array. If 'setActions' needs the current value of 'props.actions', you can also switch to useReducer instead of useState and read 'props.actions' in the reducer.",["486"],"'WorklogObject' is defined but never used.","'formatElapsedTime' is defined but never used.","'elapsedTime' is defined but never used.","'state' is assigned a value but never used.","'setState' is assigned a value but never used.","'TaskListComponent' is defined but never used.",["487"],"React Hook React.useEffect has missing dependencies: 'mode' and 'taskid'. Either include them or remove the dependency array.",["488"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation",{"desc":"489","fix":"490"},{"desc":"491","fix":"492"},{"desc":"493","fix":"494"},{"desc":"495","fix":"496"},{"desc":"497","fix":"498"},{"desc":"499","fix":"500"},{"desc":"501","fix":"502"},{"desc":"503","fix":"504"},{"desc":"505","fix":"506"},{"desc":"507","fix":"508"},{"desc":"509","fix":"510"},{"desc":"511","fix":"512"},{"desc":"513","fix":"514"},{"desc":"515","fix":"516"},{"desc":"505","fix":"517"},{"desc":"518","fix":"519"},{"desc":"489","fix":"520"},{"desc":"521","fix":"522"},"Update the dependencies array to be: [actionItems, filters]",{"range":"523","text":"524"},"Update the dependencies array to be: [calculateDiff]",{"range":"525","text":"526"},"Update the dependencies array to be: [fillSequenceTable, worklogObj]",{"range":"527","text":"528"},"Update the dependencies array to be: [mode, worklogid]",{"range":"529","text":"530"},"Update the dependencies array to be: [confirmedDelete, setSync, worklogid]",{"range":"531","text":"532"},"Update the dependencies array to be: [actionItems, worklogid]",{"range":"533","text":"534"},"Update the dependencies array to be: [confirmedDelete, setSync, taskid]",{"range":"535","text":"536"},"Update the dependencies array to be: [actionItems, taskid]",{"range":"537","text":"538"},"Update the dependencies array to be: [setSync]",{"range":"539","text":"540"},"Update the dependencies array to be: [setSync, sync]",{"range":"541","text":"542"},"Update the dependencies array to be: [label, props.id, props.maxDate, props.minDate, setTouched, setValue]",{"range":"543","text":"544"},"Update the dependencies array to be: [icon]",{"range":"545","text":"546"},"Update the dependencies array to be: [dateText, setTouched, setValue]",{"range":"547","text":"548"},"Update the dependencies array to be: [props.formItems]",{"range":"549","text":"550"},{"range":"551","text":"540"},"Update the dependencies array to be: [actions, props.actions]",{"range":"552","text":"553"},{"range":"554","text":"524"},"Update the dependencies array to be: [mode, taskid]",{"range":"555","text":"556"},[2350,2359],"[actionItems, filters]",[2744,2746],"[calculateDiff]",[3375,3387],"[fillSequenceTable, worklogObj]",[7500,7502],"[mode, worklogid]",[4077,4094],"[confirmedDelete, setSync, worklogid]",[5673,5684],"[actionItems, worklogid]",[4180,4197],"[confirmedDelete, setSync, taskid]",[6190,6198],"[actionItems, taskid]",[2708,2710],"[setSync]",[3274,3280],"[setSync, sync]",[3109,3111],"[label, props.id, props.maxDate, props.minDate, setTouched, setValue]",[4089,4091],"[icon]",[4182,4192],"[dateText, setTouched, setValue]",[8074,8076],"[props.formItems]",[1619,1621],[1144,1153],"[actions, props.actions]",[2777,2786],[3989,3991],"[mode, taskid]"]